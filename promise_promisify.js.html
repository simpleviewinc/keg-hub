<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>promise/promisify.js - JS Utils</title>
    
    <meta name="description" content="common javascript utils" />
    
        <meta name="keywords" content="utils, javascript, helpers, lodash, underscore" />
        <meta name="keyword" content="utils, javascript, helpers, lodash, underscore" />
    
    
    
    <meta property="og:title" content="JS Utils"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content=""/>
    <meta property="og:site_name" content="jsutils"/>
    <meta property="og:url" content="https://lancetipton.github.io/jsutils/"/>
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h2><a href="https://github.com/lancetipton/jsutils" target="_blank" class="menu-item" id="repository" >Github repo</a></h2><h3>Modules</h3><ul><li><a href="module-array.html">array</a><ul class='members'><li data-type='member'><a href="module-array.html#.areCountMapsEqual">areCountMapsEqual</a></li><li data-type='member'><a href="module-array.html#.buildElementCountMap">buildElementCountMap</a></li></ul><ul class='methods'><li data-type='method'><a href="module-array.html#.areFrequencyEqual">areFrequencyEqual</a></li><li data-type='method'><a href="module-array.html#.areSetEqual">areSetEqual</a></li><li data-type='method'><a href="module-array.html#.cloneArr">cloneArr</a></li><li data-type='method'><a href="module-array.html#.eitherArr">eitherArr</a></li><li data-type='method'><a href="module-array.html#.ensureArr">ensureArr</a></li><li data-type='method'><a href="module-array.html#.findExtrema">findExtrema</a></li><li data-type='method'><a href="module-array.html#.findMax">findMax</a></li><li data-type='method'><a href="module-array.html#.findMin">findMin</a></li><li data-type='method'><a href="module-array.html#.flatMap">flatMap</a></li><li data-type='method'><a href="module-array.html#.isArr">isArr</a></li><li data-type='method'><a href="module-array.html#.omitRange">omitRange</a></li><li data-type='method'><a href="module-array.html#.randomArr">randomArr</a></li><li data-type='method'><a href="module-array.html#.randomizeArr">randomizeArr</a></li><li data-type='method'><a href="module-array.html#.uniqArr">uniqArr</a></li><li data-type='method'><a href="module-array.html#.uniqArrByReference">uniqArrByReference</a></li></ul></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li><a href="module-boolean.html">boolean</a><ul class='methods'><li data-type='method'><a href="module-boolean.html#.convertToStrBool">convertToStrBool</a></li><li data-type='method'><a href="module-boolean.html#.isBool">isBool</a></li><li data-type='method'><a href="module-boolean.html#.isStrBool">isStrBool</a></li><li data-type='method'><a href="module-boolean.html#.softFalsy">softFalsy</a></li><li data-type='method'><a href="module-boolean.html#.toBool">toBool</a></li></ul></li><li></li><li></li><li></li><li></li><li><a href="module-collection.html">collection</a><ul class='methods'><li data-type='method'><a href="module-collection.html#.cleanColl">cleanColl</a></li><li data-type='method'><a href="module-collection.html#.deepClone">deepClone</a></li><li data-type='method'><a href="module-collection.html#.deepEqual">deepEqual</a></li><li data-type='method'><a href="module-collection.html#.get">get</a></li><li data-type='method'><a href="module-collection.html#.isColl">isColl</a></li><li data-type='method'><a href="module-collection.html#.isEmptyColl">isEmptyColl</a></li><li data-type='method'><a href="module-collection.html#.mapColl">mapColl</a></li><li data-type='method'><a href="module-collection.html#.mapFind">mapFind</a></li><li data-type='method'><a href="module-collection.html#.reduceColl">reduceColl</a></li><li data-type='method'><a href="module-collection.html#.repeat">repeat</a></li><li data-type='method'><a href="module-collection.html#.set">set</a></li><li data-type='method'><a href="module-collection.html#.shallowEqual">shallowEqual</a></li><li data-type='method'><a href="module-collection.html#.unset">unset</a></li><li data-type='method'><a href="module-collection.html#~mapFindArr">mapFindArr</a></li><li data-type='method'><a href="module-collection.html#~mapFindObj">mapFindObj</a></li></ul></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li><a href="module-command.html">command</a><ul class='methods'><li data-type='method'><a href="module-command.html#~loadByType">loadByType</a></li><li data-type='method'><a href="module-command.html#~loadModule">loadModule</a></li><li data-type='method'><a href="module-command.html#~loopLoad">loopLoad</a></li><li data-type='method'><a href="module-command.html#~requireModule">requireModule</a></li><li data-type='method'><a href="module-command.html#~tryRequire">tryRequire</a></li><li data-type='method'><a href="module-command.html#~tryRequireSync">tryRequireSync</a></li></ul></li><li></li><li><a href="module-functions.html">functions</a><ul class='members'><li data-type='member'><a href="module-functions.html#.noOpObj">noOpObj</a></li><li data-type='member'><a href="module-functions.html#.noPropArr">noPropArr</a></li><li data-type='member'><a href="module-functions.html#.noPropObj">noPropObj</a></li></ul><ul class='methods'><li data-type='method'><a href="module-functions.html#.applyToFunc">applyToFunc</a></li><li data-type='method'><a href="module-functions.html#.checkCall">checkCall</a></li><li data-type='method'><a href="module-functions.html#.cloneFunc">cloneFunc</a></li><li data-type='method'><a href="module-functions.html#.complement">complement</a></li><li data-type='method'><a href="module-functions.html#.debounce">debounce</a></li><li data-type='method'><a href="module-functions.html#.doIt">doIt</a></li><li data-type='method'><a href="module-functions.html#.eitherFunc">eitherFunc</a></li><li data-type='method'><a href="module-functions.html#.hasDomAccess">hasDomAccess</a></li><li data-type='method'><a href="module-functions.html#.identity">identity</a></li><li data-type='method'><a href="module-functions.html#.isFunc">isFunc</a></li><li data-type='method'><a href="module-functions.html#.isOrderable">isOrderable</a></li><li data-type='method'><a href="module-functions.html#.limbo">limbo</a></li><li data-type='method'><a href="module-functions.html#.match">match</a></li><li data-type='method'><a href="module-functions.html#.memorize">memorize</a></li><li data-type='method'><a href="module-functions.html#.noOp">noOp</a></li><li data-type='method'><a href="module-functions.html#.pipeline">pipeline</a></li><li data-type='method'><a href="module-functions.html#.runSeq">runSeq</a></li><li data-type='method'><a href="module-functions.html#.throttle">throttle</a></li><li data-type='method'><a href="module-functions.html#.throttleLast">throttleLast</a></li><li data-type='method'><a href="module-functions.html#.timedRun">timedRun</a></li><li data-type='method'><a href="module-functions.html#.uuid">uuid</a></li><li data-type='method'><a href="module-functions.html#.waitForIt">waitForIt</a></li><li data-type='method'><a href="module-functions.html#~Extractsthemessagefromtheexception,whetherstringorobject">Extracts the message from the exception, whether string
or object</a></li></ul></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li><a href="module-Helpers.html">Helpers</a><ul class='methods'><li data-type='method'><a href="module-Helpers.html#.either">either</a></li><li data-type='method'><a href="module-Helpers.html#.exists">exists</a></li><li data-type='method'><a href="module-Helpers.html#.isEmpty">isEmpty</a></li><li data-type='method'><a href="module-Helpers.html#.isSame">isSame</a></li><li data-type='method'><a href="module-Helpers.html#.isValidDate">isValidDate</a></li><li data-type='method'><a href="module-Helpers.html#.strToType">strToType</a></li><li data-type='method'><a href="module-Helpers.html#.typeOf">typeOf</a></li></ul></li><li></li><li></li><li></li><li></li><li></li><li></li><li><a href="module-log.html">log</a><ul class='methods'><li data-type='method'><a href="module-log.html#.logData">logData</a></li><li data-type='method'><a href="module-log.html#.resetLogs">resetLogs</a></li><li data-type='method'><a href="module-log.html#.setLogs">setLogs</a></li></ul></li><li><a href="module-method.html">method</a></li><li><a href="module-number.html">number</a><ul class='methods'><li data-type='method'><a href="module-number.html#.equalsNaN">equalsNaN</a></li><li data-type='method'><a href="module-number.html#.getNums">getNums</a></li><li data-type='method'><a href="module-number.html#.isFloat">isFloat</a></li><li data-type='method'><a href="module-number.html#.isInt">isInt</a></li><li data-type='method'><a href="module-number.html#.isNegative">isNegative</a></li><li data-type='method'><a href="module-number.html#.isNonNegative">isNonNegative</a></li><li data-type='method'><a href="module-number.html#.isNum">isNum</a></li><li data-type='method'><a href="module-number.html#.isPositive">isPositive</a></li><li data-type='method'><a href="module-number.html#.mod">mod</a></li><li data-type='method'><a href="module-number.html#.nth">nth</a></li><li data-type='method'><a href="module-number.html#.toFloat">toFloat</a></li><li data-type='method'><a href="module-number.html#.toInt">toInt</a></li><li data-type='method'><a href="module-number.html#.toNum">toNum</a></li></ul></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li><a href="module-object.html">object</a><ul class='methods'><li data-type='method'><a href="module-object.html#.applyToCloneOf">applyToCloneOf</a></li><li data-type='method'><a href="module-object.html#.clearObj">clearObj</a></li><li data-type='method'><a href="module-object.html#.cloneJson">cloneJson</a></li><li data-type='method'><a href="module-object.html#.deepFreeze">deepFreeze</a></li><li data-type='method'><a href="module-object.html#.deepMerge">deepMerge</a></li><li data-type='method'><a href="module-object.html#.eitherObj">eitherObj</a></li><li data-type='method'><a href="module-object.html#.everyEntry">everyEntry</a></li><li data-type='method'><a href="module-object.html#.filterObj">filterObj</a></li><li data-type='method'><a href="module-object.html#.hasOwn">hasOwn</a></li><li data-type='method'><a href="module-object.html#.isEntry">isEntry</a></li><li data-type='method'><a href="module-object.html#.isObj">isObj</a></li><li data-type='method'><a href="module-object.html#.jsonEqual">jsonEqual</a></li><li data-type='method'><a href="module-object.html#.keyMap">keyMap</a></li><li data-type='method'><a href="module-object.html#.mapEntries">mapEntries</a></li><li data-type='method'><a href="module-object.html#.mapKeys">mapKeys</a></li><li data-type='method'><a href="module-object.html#.mapObj">mapObj</a></li><li data-type='method'><a href="module-object.html#.omitKeys">omitKeys</a></li><li data-type='method'><a href="module-object.html#.pickKeys">pickKeys</a></li><li data-type='method'><a href="module-object.html#.reduceObj">reduceObj</a></li><li data-type='method'><a href="module-object.html#.sanitizeCopy">sanitizeCopy</a></li><li data-type='method'><a href="module-object.html#.someEntry">someEntry</a></li><li data-type='method'><a href="module-object.html#.toObj">toObj</a></li><li data-type='method'><a href="module-object.html#.trimStringFields">trimStringFields</a></li></ul></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li><a href="module-promise.html">promise</a><ul class='methods'><li data-type='method'><a href="module-promise.html#.promisify">promisify</a></li><li data-type='method'><a href="module-promise.html#.promisifyAll">promisifyAll</a></li><li data-type='method'><a href="module-promise.html#.wait">wait</a></li></ul></li><li></li><li></li><li><a href="module-regex.html">regex</a><ul class='methods'><li data-type='method'><a href="module-regex.html#.getRegexSource">getRegexSource</a></li><li data-type='method'><a href="module-regex.html#.isRegex">isRegex</a></li><li data-type='method'><a href="module-regex.html#.joinRegex">joinRegex</a></li><li data-type='method'><a href="module-regex.html#~parseArgs">parseArgs</a></li></ul></li><li></li><li></li><li><a href="module-string.html">string</a><ul class='members'><li data-type='member'><a href="module-string.html#.getNearestDelimiterIndex">getNearestDelimiterIndex</a></li><li data-type='member'><a href="module-string.html#.spaceJoin">spaceJoin</a></li></ul><ul class='methods'><li data-type='method'><a href="module-string.html#.buildPath">buildPath</a></li><li data-type='method'><a href="module-string.html#.camelCase">camelCase</a></li><li data-type='method'><a href="module-string.html#.capitalize">capitalize</a></li><li data-type='method'><a href="module-string.html#.cleanStr">cleanStr</a></li><li data-type='method'><a href="module-string.html#.containsStr">containsStr</a></li><li data-type='method'><a href="module-string.html#.delimitString">delimitString</a></li><li data-type='method'><a href="module-string.html#.eitherStr">eitherStr</a></li><li data-type='method'><a href="module-string.html#.getWordEndingAt">getWordEndingAt</a></li><li data-type='method'><a href="module-string.html#.getWordStartingAt">getWordStartingAt</a></li><li data-type='method'><a href="module-string.html#.hashString">hashString</a></li><li data-type='method'><a href="module-string.html#.hyphenator">hyphenator</a></li><li data-type='method'><a href="module-string.html#.isEmail">isEmail</a></li><li data-type='method'><a href="module-string.html#.isLowerCase">isLowerCase</a></li><li data-type='method'><a href="module-string.html#.isPhone">isPhone</a></li><li data-type='method'><a href="module-string.html#.isQuoted">isQuoted</a></li><li data-type='method'><a href="module-string.html#.isStr">isStr</a></li><li data-type='method'><a href="module-string.html#.isUpperCase">isUpperCase</a></li><li data-type='method'><a href="module-string.html#.isUrl">isUrl</a></li><li data-type='method'><a href="module-string.html#.isUuid">isUuid</a></li><li data-type='method'><a href="module-string.html#.mapString">mapString</a></li><li data-type='method'><a href="module-string.html#.parseJSON">parseJSON</a></li><li data-type='method'><a href="module-string.html#.plural">plural</a></li><li data-type='method'><a href="module-string.html#.removeDot">removeDot</a></li><li data-type='method'><a href="module-string.html#.reverseStr">reverseStr</a></li><li data-type='method'><a href="module-string.html#.sanitize">sanitize</a></li><li data-type='method'><a href="module-string.html#.singular">singular</a></li><li data-type='method'><a href="module-string.html#.snakeCase">snakeCase</a></li><li data-type='method'><a href="module-string.html#.styleCase">styleCase</a></li><li data-type='method'><a href="module-string.html#.template">template</a></li><li data-type='method'><a href="module-string.html#.toStr">toStr</a></li><li data-type='method'><a href="module-string.html#.trainCase">trainCase</a></li><li data-type='method'><a href="module-string.html#.wordCaps">wordCaps</a></li></ul></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li><a href="module-url.html">url</a><ul class='methods'><li data-type='method'><a href="module-url.html#.getURLParam">getURLParam</a></li><li data-type='method'><a href="module-url.html#.isValidUrl">isValidUrl</a></li><li data-type='method'><a href="module-url.html#.objToQuery">objToQuery</a></li><li data-type='method'><a href="module-url.html#.queryToObj">queryToObj</a></li></ul></li><li></li><li></li><li></li><li><a href="module-validation.html">validation</a><ul class='methods'><li data-type='method'><a href="module-validation.html#.validate">validate</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#camelCasePath">camelCasePath</a></li><li><a href="global.html#flatArr">flatArr</a></li><li><a href="global.html#isArrMap">isArrMap</a></li><li><a href="global.html#validFilename">validFilename</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">promise/promisify.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/** @module promise */

import { isObj } from '../object/isObj'
import { isFunc } from '../method/isFunc'

/**
 * Converts a standard callback method into Promise
 * @param {function} method - method to turn into a promise
 * @function
 *
 * @return method as a promise
 */
export const promisify = method => {
  if(!isFunc(method)) throw `Argument must be a function`

  return (...args) => {
    return new Promise((res, rej) => {
      // If the last arg is not a function, just return the resolved method
      if(!isFunc(args[args.length -1]))
        return res(method(...args))

      // Remove the callback method
      args.pop()
      // Replace it with the promise resolve / reject
      args.push((...cbData) => {
        // If the cbData first arg is not falsy, then reject the promise
        // Otherwise resolve it
        return cbData &amp;&amp; cbData[0]
          ? rej(...cbData)
          : res(...cbData)
      })

      // Call the method, and return it
      return method(...args)
    })
  }
}
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a> on Fri May 14 2021 11:23:05 GMT-0700 (Mountain Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>



</body>
</html>
