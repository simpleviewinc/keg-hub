"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./useTheme-5fc654c9.js"),t=require("react"),r=require("@keg-hub/jsutils"),n=require("./styleInjector-77e35799.js");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("react-native-web/dist/modules/prefixStyles"),require("react-native-web/dist/exports/StyleSheet/flattenStyle"),require("react-native-web/dist/exports/StyleSheet/createReactDOMStyle"),require("react-native-web/dist/exports/StyleSheet/createCompileableStyle");var u=_interopDefaultLegacy(t),getComponentName=function(e){return e.displayName||e.name||"keg-".concat(r.uuid().split("-").slice(4).join(""))},usePropClassName=function(e,n){return t.useMemo((function(){var t=e?r.ensureArr(e):[];return n&&t.push(n),t}),[e,n])},useShallowMemoMerge=function(){for(var e=arguments.length,n=new Array(e),u=0;u<e;u++)n[u]=arguments[u];var a=t.useRef(null);return t.useMemo((function(){var e=r.deepMerge.apply(void 0,n),t=r.shallowEqual(a.current,e)?a.current:e;return t!==a.current&&(a.current=t),t}),[].concat(n))},useReStyles=function(n,u){var a=e.useTheme(),i=t.useState(u),s=e._slicedToArray(i,2),l=s[0],c=s[1],o=r.shallowEqual(u,l);return t.useEffect((function(){!o&&c(u)}),[o]),t.useMemo((function(){return r.isFunc(n)?n(a,u):r.isObj(n)?n:r.noOpObj}),[a,n,o])};exports.reStyle=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"style",i=getComponentName(t),s=n.StyleInjector(t,{displayName:i,className:i});return function(t){var n=u.default.forwardRef((function(n,l){var c=useReStyles(t,n),o=usePropClassName(n.className,i),f=r.exists(n[a])?n[a]:null,y=useShallowMemoMerge(c,f);return u.default.createElement(s,e._extends({},n,e._defineProperty({},a,y),{style:y,className:o,ref:l}))}));return n.displayName="reStyle(".concat(i,")"),n}};
//# sourceMappingURL=reStyle.js.map
