"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=require("@keg-hub/jsutils"),n=require("./useTheme-d71dc58d.js"),r=require("react"),o=(e=r)&&"object"==typeof e&&"default"in e?e.default:e,updateListeners=function(e,n,r,o){if(!t.isObj(e)||!t.isFunc(e[n]))return null;e[n](r.on,o.on),e[n](r.off,o.off)},createCBRef=function(e,t,o,u){return r.useCallback((function(r){e.current&&updateListeners(e.current,n.Constants.REMOVE_EVENT,t,o),e.current=r,e.current&&updateListeners(e.current,n.Constants.ADD_EVENT,t,o),!e.current&&o.cleanup()}),[o.on,o.off])},createMethods=function(e,n,o){var u=[n,e];return{off:r.useCallback((function(){return o(e)}),u),on:r.useCallback((function(){return o(n)}),u),cleanup:function(r){r&&(t.isFunc(r.on)&&r.on(void 0),t.isFunc(r.off)&&r.off(void 0),n=void 0,e=void 0,o=void 0,r=void 0)}}},getOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&!t.isObj(e)?{}:e},checkJoinValues=function(e,n,r,o){return!o&&t.isColl(n)&&t.isColl(e)?t.deepMerge(e,n):r},hookFactory=function(e){return function(o,u){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=getOptions(i),c=s.ref,a=s.noMerge,f=c||r.useRef(),l=r.useState(o),h=n._slicedToArray(l,2),m=h[0],d=h[1],v=r.useState(u),p=n._slicedToArray(v,2),T=p[0],g=p[1],x=r.useState(checkJoinValues(o,T,T,a)),E=n._slicedToArray(x,2),S=E[0],C=E[1];r.useLayoutEffect((function(){u!==T&&(g(u),C(checkJoinValues(o,u,u,a)))}),[u,T,o,a]);var w=createCBRef(f,e,createMethods(o,S,d)),y=m===o?m:m===S?S:o;return t.isFunc(c)?t.checkCall((function(){return[function(e){c(e),w(e)},y,d]})):[w,y,d]}},u=hookFactory({on:"pointerover",off:"pointerout"}),i=hookFactory({on:"mousedown",off:"mouseup"}),s=hookFactory({on:"focus",off:"blur"});exports.ReThemeContext=n.ReThemeContext,exports.addThemeEvent=n.addThemeEvent,exports.fireThemeEvent=n.fireThemeEvent,exports.getDefaultTheme=n.getDefaultTheme,exports.getMergeSizes=n.getMergeSizes,exports.getSize=n.getSize,exports.getSizeMap=n.getSizeMap,exports.removeThemeEvent=n.removeThemeEvent,exports.setDefaultTheme=n.setDefaultTheme,exports.setRNPlatform=n.setRNPlatform,exports.setSizes=n.setSizes,exports.useTheme=n.useTheme,exports.ReThemeProvider=function(e){var u=e.children,i=e.theme,s=e.merge,c=e.platforms,a=Boolean(s||!s&&!1!==s)||!1,f=r.useState(n.Dimensions.get("window")),l=n._slicedToArray(f,2),h=l[0],m=l[1],onChange=function(e){var r=e.window,o=r.width,u=r.height,i=r.scale,s=r.fontScale,c=n.getSize(o);if(c){var a=c[0],f=n.getCurrentTheme();a!==t.get(f,["RTMeta","key"])&&m({width:o,height:u,scale:i,fontScale:s})}};r.useEffect((function(){return n.Dimensions.addEventListener("change",onChange),function(){n.Dimensions.removeEventListener("change",onChange)}}),[]);var d=r.useMemo((function(){return n.buildTheme(i,h.width,h.height,a&&n.getDefaultTheme(),c)}),[i,h.width,h.height,a,c]);return o.createElement(n.ReThemeContext.Provider,{value:d},u)},exports.setRNDimensions=function(e){},exports.useDimensions=function(){var e=r.useState(n.Dimensions.get("window")),t=n._slicedToArray(e,2),o=t[0],u=t[1],onChange=function(e){var t=e.window,n=t.width,r=t.height,o=t.scale,i=t.fontScale;u({width:n,height:r,scale:o,fontScale:i})};return r.useEffect((function(){return n.Dimensions.addEventListener("change",onChange),function(){return onChange.shouldUnmount=!0,n.Dimensions.removeEventListener("change",onChange)}}),[]),o},exports.useStyle=function(){for(var e=arguments.length,o=new Array(e),u=0;u<e;u++)o[u]=arguments[u];var i=n.useTheme();return r.useMemo((function(){return i.get.apply(i,o)||t.noPropObj}),[i].concat(o))},exports.useStylesCallback=function(e,o,u){var i=r.useCallback(e,o||[]),s=!(!u||!t.isObj(u)||t.isEmptyColl(u))&&u,c=n.useTheme();return r.useMemo((function(){return t.checkCall.apply(void 0,[i,c,s].concat(n._toConsumableArray(o)))||{}}),[c,i,s])},exports.useThemeActive=i,exports.useThemeFocus=s,exports.useThemeHover=u,exports.withTheme=function(e){return function(t){return o.createElement(n.ReThemeContext.Consumer,null,(function(r){return o.createElement(e,n._extends({theme:r},t))}))}};
//# sourceMappingURL=index.js.map
