"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=require("@keg-hub/jsutils"),n=require("./useTheme-2f6d0991.js"),r=require("./_rollupPluginBabelHelpers-dd04b2bb.js"),o=require("react"),u=(e=o)&&"object"==typeof e&&"default"in e?e.default:e,updateListeners=function(e,n,r,o){if(!t.isObj(e)||!t.isFunc(e[n]))return null;e[n](r.on,o.on),e[n](r.off,o.off)},createCBRef=function(e,t,r,u){return o.useCallback((function(o){e.current&&updateListeners(e.current,n.Constants.REMOVE_EVENT,t,r),e.current=o,e.current&&updateListeners(e.current,n.Constants.ADD_EVENT,t,r),!e.current&&r.cleanup()}),[r.on,r.off])},createMethods=function(e,n,r){var u=[n,e];return{off:o.useCallback((function(){return r(e)}),u),on:o.useCallback((function(){return r(n)}),u),cleanup:function(o){o&&(t.isFunc(o.on)&&o.on(void 0),t.isFunc(o.off)&&o.off(void 0),n=void 0,e=void 0,r=void 0,o=void 0)}}},getOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&!t.isObj(e)?{}:e},checkJoinValues=function(e,n,r,o){return!o&&t.isColl(n)&&t.isColl(e)?t.deepMerge(e,n):r},hookFactory=function(e){return function(n,u){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=getOptions(i),c=s.ref,a=s.noMerge,f=c||o.useRef(),l=o.useState(n),h=r._slicedToArray(l,2),m=h[0],d=h[1],v=o.useState(u),p=r._slicedToArray(v,2),T=p[0],g=p[1],x=o.useState(checkJoinValues(n,T,T,a)),E=r._slicedToArray(x,2),C=E[0],S=E[1];o.useLayoutEffect((function(){u!==T&&(g(u),S(checkJoinValues(n,u,u,a)))}),[u,T,n,a]);var b=createCBRef(f,e,createMethods(n,C,d)),w=m===n?m:m===C?C:n;return t.isFunc(c)?t.checkCall((function(){return[function(e){c(e),b(e)},w,d]})):[b,w,d]}},i=hookFactory({on:"pointerover",off:"pointerout"}),s=hookFactory({on:"mousedown",off:"mouseup"}),c=hookFactory({on:"focus",off:"blur"});exports.ReThemeContext=n.ReThemeContext,exports.addThemeEvent=n.addThemeEvent,exports.fireThemeEvent=n.fireThemeEvent,exports.getDefaultTheme=n.getDefaultTheme,exports.getMergeSizes=n.getMergeSizes,exports.getSize=n.getSize,exports.getSizeMap=n.getSizeMap,exports.removeThemeEvent=n.removeThemeEvent,exports.setDefaultTheme=n.setDefaultTheme,exports.setRNPlatform=n.setRNPlatform,exports.setSizes=n.setSizes,exports.useTheme=n.useTheme,exports.ReThemeProvider=function(e){var i=e.children,s=e.theme,c=e.merge,a=e.platforms,f=Boolean(c||!c&&!1!==c)||!1,l=o.useState(n.Dimensions.get("window")),h=r._slicedToArray(l,2),m=h[0],d=h[1],onChange=function(e){var r=e.window,o=r.width,u=r.height,i=r.scale,s=r.fontScale,c=n.getSize(o);if(c){var a=c[0],f=n.getCurrentTheme();a!==t.get(f,["RTMeta","key"])&&d({width:o,height:u,scale:i,fontScale:s})}};o.useEffect((function(){return n.Dimensions.addEventListener("change",onChange),function(){n.Dimensions.removeEventListener("change",onChange)}}),[]);var v=o.useMemo((function(){return n.buildTheme(s,m.width,m.height,f&&n.getDefaultTheme(),a)}),[s,m.width,m.height,f,a]);return u.createElement(n.ReThemeContext.Provider,{value:v},i)},exports.setRNDimensions=function(e){},exports.useDimensions=function(){var e=o.useState(n.Dimensions.get("window")),t=r._slicedToArray(e,2),u=t[0],i=t[1],onChange=function(e){var t=e.window,n=t.width,r=t.height,o=t.scale,u=t.fontScale;i({width:n,height:r,scale:o,fontScale:u})};return o.useEffect((function(){return n.Dimensions.addEventListener("change",onChange),function(){return onChange.shouldUnmount=!0,n.Dimensions.removeEventListener("change",onChange)}}),[]),u},exports.useStylesCallback=function(e,u,i){var s=o.useCallback(e,u||[]),c=!(!i||!t.isObj(i)||t.isEmptyColl(i))&&i,a=n.useTheme();return o.useMemo((function(){return t.checkCall.apply(void 0,[s,a,c].concat(r._toConsumableArray(u)))||{}}),[a,s,c])},exports.useThemeActive=s,exports.useThemeFocus=c,exports.useThemeHover=i,exports.withTheme=function(e){return function(t){return u.createElement(n.ReThemeContext.Consumer,null,(function(n){return u.createElement(e,r._extends({theme:n},t))}))}};
//# sourceMappingURL=index.js.map
