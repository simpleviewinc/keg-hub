"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./useTheme-619bdda8.js"),r=require("react"),t=require("@keg-hub/jsutils");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=_interopDefaultLegacy(r),StyleInjector=function(e){return function(r){return n.default.createElement(e,r)}},getComponentName=function(e){return e.displayName||e.name||"keg-".concat(t.uuid().split("-").slice(4).join(""))},usePropClassName=function(e,n){return r.useMemo((function(){var r=e?t.ensureArr(e):[];return n&&r.push(n),r}),[e,n])},useShallowMemoMerge=function(){for(var e=arguments.length,n=new Array(e),u=0;u<e;u++)n[u]=arguments[u];var a=r.useRef(null);return r.useMemo((function(){var e=t.deepMerge.apply(void 0,n),r=t.shallowEqual(a.current,e)?a.current:e;return r!==a.current&&(a.current=r),r}),[].concat(n))},useReStyles=function(n,u){var a=e.useTheme(),c=r.useState(u),o=e._slicedToArray(c,2),i=o[0],l=o[1],s=t.shallowEqual(u,i);return r.useEffect((function(){!s&&l(u)}),[s]),r.useMemo((function(){return t.isFunc(n)?n(a,u):t.isObj(n)?n:t.noOpObj}),[a,n,s])};exports.reStyle=function(r){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"style",a=getComponentName(r),c=StyleInjector(r);return function(r){var o=n.default.forwardRef((function(o,i){var l=useReStyles(r,o),s=usePropClassName(o.className,a),f=t.exists(o[u])?o[u]:null,d=useShallowMemoMerge(l,f);return n.default.createElement(c,e._extends({},o,e._defineProperty({},u,d),{style:d,className:s,ref:i}))}));return o.displayName="reStyle(".concat(a,")"),o}};
//# sourceMappingURL=reStyle.js.map
