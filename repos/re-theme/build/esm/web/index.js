import{get as e,hasDomAccess as t,noOpObj as o,isFunc as a,checkCall as f,isObj as h,isEmptyColl as v,deepMerge as p,noPropObj as d}from"@keg-hub/jsutils";import{D as E,_ as y,R as S,a as w,b as T,g as P,c as b,d as O,e as L,u as D,f as F,h as N}from"./useTheme-5c3931da.js";export{R as ReThemeContext,l as addThemeEvent,m as fireThemeEvent,c as getDefaultTheme,j as getMergeSizes,g as getSize,i as getSizeMap,r as removeThemeEvent,n as setDefaultTheme,s as setRNPlatform,k as setSizes,u as useTheme}from"./useTheme-5c3931da.js";import _,{useState as x,useEffect as I,useMemo as B,useRef as C,useCallback as W}from"react";var setRNDimensions=function(e){},useDimensions=function(){var e=x(E.get("window")),n=y(e,2),t=n[0],o=n[1],onChange=function(e){var n=e.window,t=n.width,r=n.height,i=n.scale,a=n.fontScale;o({width:t,height:r,scale:i,fontScale:a})};return I((function(){return E.addEventListener("change",onChange),function(){return onChange.shouldUnmount=!0,E.removeEventListener("change",onChange)}}),[]),t};function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var M=function(e,n){return e(n={exports:{}},n.exports),n.exports}((function(e){e.exports=function(){function shim(e,n,t,o,r,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function getShim(){return shim}shim.isRequired=shim;var e={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return e.PropTypes=e,e}()})),withTheme=function(e){return function(n){return _.createElement(S.Consumer,null,(function(t){return _.createElement(e,w({theme:t},n))}))}},ReThemeProvider=function(n){var t=n.children,o=n.theme,r=n.merge,i=n.platforms,a=Boolean(r||!r&&!1!==r)||!1,u=x(E.get("window")),c=y(u,2),s=c[0],f=c[1],onChange=function(n){var t=n.window,o=t.width,r=t.height,i=t.scale,a=t.fontScale,u=P(o);if(u){var c=u[0],s=O();c!==e(s,["RTMeta","key"])&&f({width:o,height:r,scale:i,fontScale:a})}};I((function(){return E.addEventListener("change",onChange),function(){E.removeEventListener("change",onChange)}}),[]);var h=B((function(){return T(o,s.width,s.height,a&&b(),i)}),[o,s.width,s.height,a,i]);return _.createElement(S.Provider,{value:h},t)};ReThemeProvider.propTypes={theme:M.object.isRequired,merge:M.bool,platforms:M.array,children:M.node};var z,U,q=!1;t()&&(z=0,U=function(){z=Date.now(),q&&(q=!1)},document.addEventListener("touchstart",U,!0),document.addEventListener("touchmove",U,!0),document.addEventListener("mousemove",(function(){!q&&Date.now()-z>1e3&&(q=!0)}),!0));var useEventCallBacks=function(e){var n,t=e.pointerState,o=e.onEvent,r=e.offEvent,i=e.onName,a=e.offName,u=x(!1),c=y(u,2),s=c[0],h=c[1],m=W((function(e){f(r,e),h(!1)}),[s,h,r]),v=W((function(e){("hover"!==t||q)&&(f(o,e),h(!0),"active"===t&&document.addEventListener(a,m,{once:!0}))}),[t,s,h,o]);return L(n={},t,s),L(n,i,v),L(n,a,m),n},useElementEvents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,n=arguments.length>1?arguments[1]:void 0,t="hover"===n?useEventCallBacks({pointerState:n,onName:"onPointerIn",offName:"onPointerOut",onEvent:e.onPointerIn,offEvent:e.onPointerOut}):o,r=t.hover,i=void 0!==r&&r,a=t.onPointerIn,u=t.onPointerOut,c="focus"===n?useEventCallBacks({pointerState:n,onName:"onFocus",offName:"onBlur",onEvent:e.onFocus,offEvent:e.onBlur}):o,s=c.focus,f=void 0!==s&&s,h=c.onFocus,m=c.onBlur,v="active"===n?useEventCallBacks({pointerState:n,onName:"onPointerDown",offName:"mouseup",onEvent:e.onPointerDown,offEvent:e.onMouseUp}):o,p=v.active,d=void 0!==p&&p,l=v.onPointerDown;return B((function(){return{active:d,focus:f,hover:i,events:"hover"===n?{pointerover:a,pointerout:u}:"focus"===n?{focus:h,blur:m}:{pointerdown:l}}}),[d,f,i,m,h,l,a,u,e.ref,n])},loopElementEvents=function(e,n,t){Object.entries(n).map((function(n){var o=y(n,2),r=o[0],i=o[1];return e[t](r,i)}))},createCBRef=function(e,n){var t=C(null),o=W((function(n){t.current=n,a(e)?e(n):e&&(e.current=n)}),[t.current,e,e.current]);return I((function(){return t.current&&loopElementEvents(t.current,n,"addEventListener"),function(){t.current&&loopElementEvents(t.current,n,"removeEventListener")}}),[t.current,n]),o},usePointerState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,n=arguments.length>1?arguments[1]:void 0,t=useElementEvents(e,n),r=t.events,i=t.hover,a=t.active,u=t.focus;return{hover:i,focus:u,active:a,events:r,ref:createCBRef(e.ref,r)}},useStylesCallback=function(e,n,t){var o=W(e,n||[]),r=!(!t||!h(t)||v(t))&&t,i=D();return B((function(){return f.apply(void 0,[o,i,r].concat(F(n)))||{}}),[i,o,r])},useCompareState=function(e,n,t,o){return B((function(){return o?t?n:p(e,n):e}),[e,n,t,o])},useThemeState=function(e){return function(n,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=C(null),i=usePointerState(N(N({},o),{},{ref:o.ref||r}),e),a=i.ref,u=i[e],c=useCompareState(n,t,Boolean(o.noMerge),u);return[a,c]}},A=useThemeState("hover"),H=useThemeState("active"),V=useThemeState("focus"),useStyle=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var o=D();return B((function(){return o.get.apply(o,n)||d}),[o].concat(n))};export{ReThemeProvider,setRNDimensions,useDimensions,usePointerState,useStyle,useStylesCallback,H as useThemeActive,V as useThemeFocus,A as useThemeHover,withTheme};
//# sourceMappingURL=index.js.map
