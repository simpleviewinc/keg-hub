import{get as e,isObj as n,isEmptyColl as t,checkCall as o,isColl as a,deepMerge as v,isFunc as d,noPropObj as m}from"@keg-hub/jsutils";import{D as p,_ as w,R as E,a as T,b as S,g as b,c as D,d as M,u as y,e as z,C as L}from"./useTheme-b64f084d.js";export{R as ReThemeContext,j as addThemeEvent,k as fireThemeEvent,c as getDefaultTheme,h as getMergeSizes,g as getSize,f as getSizeMap,r as removeThemeEvent,l as setDefaultTheme,s as setRNPlatform,i as setSizes,u as useTheme}from"./useTheme-b64f084d.js";import x,{useState as C,useEffect as N,useMemo as V,useCallback as _,useRef as A,useLayoutEffect as P}from"react";var setRNDimensions=function(e){},useDimensions=function(){var e=C(p.get("window")),n=w(e,2),t=n[0],r=n[1],onChange=function(e){var n=e.window,t=n.width,o=n.height,u=n.scale,i=n.fontScale;r({width:t,height:o,scale:u,fontScale:i})};return N((function(){return p.addEventListener("change",onChange),function(){return onChange.shouldUnmount=!0,p.removeEventListener("change",onChange)}}),[]),t},withTheme=function(e){return function(n){return x.createElement(E.Consumer,null,(function(t){return x.createElement(e,T({theme:t},n))}))}},ReThemeProvider=function(n){var t=n.children,r=n.theme,o=n.merge,u=n.platforms,i=Boolean(o||!o&&!1!==o)||!1,a=C(p.get("window")),f=w(a,2),c=f[0],s=f[1],onChange=function(n){var t=n.window,r=t.width,o=t.height,u=t.scale,i=t.fontScale,a=b(r);if(a){var f=a[0],c=M();f!==e(c,["RTMeta","key"])&&s({width:r,height:o,scale:u,fontScale:i})}};N((function(){return p.addEventListener("change",onChange),function(){p.removeEventListener("change",onChange)}}),[]);var h=V((function(){return S(r,c.width,c.height,i&&D(),u)}),[r,c.width,c.height,i,u]);return x.createElement(E.Provider,{value:h},t)},useStylesCallback=function(e,r,u){var i=_(e,r||[]),a=!(!u||!n(u)||t(u))&&u,f=y();return V((function(){return o.apply(void 0,[i,f,a].concat(z(r)))||{}}),[f,i,a])},updateListeners=function(e,t,r,o){if(!n(e)||!d(e[t]))return null;e[t](r.on,o.on),e[t](r.off,o.off)},createCBRef=function(e,n,t,r){return _((function(r){e.current&&updateListeners(e.current,L.REMOVE_EVENT,n,t),e.current=r,e.current&&updateListeners(e.current,L.ADD_EVENT,n,t),!e.current&&t.cleanup()}),[t.on,t.off])},createMethods=function(e,n,t){var r=[n,e];return{off:_((function(){return t(e)}),r),on:_((function(){return t(n)}),r),cleanup:function(r){r&&(d(r.on)&&r.on(void 0),d(r.off)&&r.off(void 0),n=void 0,e=void 0,t=void 0,r=void 0)}}},getOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&!n(e)?{}:e},checkJoinValues=function(e,n,t,r){return!r&&a(n)&&a(e)?v(e,n):t},hookFactory=function(e){return function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=getOptions(r),i=u.ref,a=u.noMerge,f=i||A(),c=C(n),s=w(c,2),h=s[0],v=s[1],l=C(t),m=w(l,2),g=m[0],p=m[1],E=C(checkJoinValues(n,g,g,a)),T=w(E,2),S=T[0],R=T[1];P((function(){t!==g&&(p(t),R(checkJoinValues(n,t,t,a)))}),[t,g,n,a]);var b=createCBRef(f,e,createMethods(n,S,v)),D=h===n?h:h===S?S:n;return d(i)?o((function(){return[function(e){i(e),b(e)},D,v]})):[b,D,v]}},B=hookFactory({on:"pointerover",off:"pointerout"}),O=hookFactory({on:"mousedown",off:"mouseup"}),U=hookFactory({on:"focus",off:"blur"}),useStyle=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=y();return V((function(){return r.get.apply(r,n)||m}),[r].concat(n))};export{ReThemeProvider,setRNDimensions,useDimensions,useStyle,useStylesCallback,O as useThemeActive,U as useThemeFocus,B as useThemeHover,withTheme};
//# sourceMappingURL=index.js.map
