import{get as e,hasDomAccess as t,noOpObj as o,isFunc as a,checkCall as f,isObj as h,isEmptyColl as v,noPropObj as p,noPropArr as d,deepMerge as E}from"@keg-hub/jsutils";import{D as y,_ as S,R as w,a as T,b as P,g as b,c as O,d as L,e as D,u as F,f as N,h as _}from"./useTheme-5c3931da.js";export{R as ReThemeContext,l as addThemeEvent,m as fireThemeEvent,c as getDefaultTheme,j as getMergeSizes,g as getSize,i as getSizeMap,r as removeThemeEvent,n as setDefaultTheme,s as setRNPlatform,k as setSizes,u as useTheme}from"./useTheme-5c3931da.js";import x,{useState as I,useEffect as B,useMemo as C,useRef as W,useCallback as M}from"react";var setRNDimensions=function(e){},useDimensions=function(){var e=I(y.get("window")),n=S(e,2),t=n[0],o=n[1],onChange=function(e){var n=e.window,t=n.width,r=n.height,i=n.scale,a=n.fontScale;o({width:t,height:r,scale:i,fontScale:a})};return B((function(){return y.addEventListener("change",onChange),function(){return onChange.shouldUnmount=!0,y.removeEventListener("change",onChange)}}),[]),t};function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var z=function(e,n){return e(n={exports:{}},n.exports),n.exports}((function(e){e.exports=function(){function shim(e,n,t,o,r,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function getShim(){return shim}shim.isRequired=shim;var e={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return e.PropTypes=e,e}()})),withTheme=function(e){return function(n){return x.createElement(w.Consumer,null,(function(t){return x.createElement(e,T({theme:t},n))}))}},ReThemeProvider=function(n){var t=n.children,o=n.theme,r=n.merge,i=n.platforms,a=Boolean(r||!r&&!1!==r)||!1,u=I(y.get("window")),c=S(u,2),s=c[0],f=c[1],onChange=function(n){var t=n.window,o=t.width,r=t.height,i=t.scale,a=t.fontScale,u=b(o);if(u){var c=u[0],s=L();c!==e(s,["RTMeta","key"])&&f({width:o,height:r,scale:i,fontScale:a})}};B((function(){return y.addEventListener("change",onChange),function(){y.removeEventListener("change",onChange)}}),[]);var h=C((function(){return P(o,s.width,s.height,a&&O(),i)}),[o,s.width,s.height,a,i]);return x.createElement(w.Provider,{value:h},t)};ReThemeProvider.propTypes={theme:z.object.isRequired,merge:z.bool,platforms:z.array,children:z.node};var U,q,A=!1;t()&&(U=0,q=function(){U=Date.now(),A&&(A=!1)},document.addEventListener("touchstart",q,!0),document.addEventListener("touchmove",q,!0),document.addEventListener("mousemove",(function(){!A&&Date.now()-U>1e3&&(A=!0)}),!0));var useEventCallBacks=function(e){var n,t=e.pointerState,o=e.onEvent,r=e.offEvent,i=e.onName,a=e.offName,u=I(!1),c=S(u,2),s=c[0],h=c[1],m=M((function(e){f(r,e),h(!1)}),[s,h,r]),v=M((function(e){("hover"!==t||A)&&(f(o,e),h(!0),"active"===t&&document.addEventListener(a,m,{once:!0}))}),[t,s,h,o]);return D(n={},t,s),D(n,i,v),D(n,a,m),n},useElementEvents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,n=arguments.length>1?arguments[1]:void 0,t="hover"===n?useEventCallBacks({pointerState:n,onName:"onPointerIn",offName:"onPointerOut",onEvent:e.onPointerIn,offEvent:e.onPointerOut}):o,r=t.hover,i=void 0!==r&&r,a=t.onPointerIn,u=t.onPointerOut,c="focus"===n?useEventCallBacks({pointerState:n,onName:"onFocus",offName:"onBlur",onEvent:e.onFocus,offEvent:e.onBlur}):o,s=c.focus,f=void 0!==s&&s,h=c.onFocus,m=c.onBlur,v="active"===n?useEventCallBacks({pointerState:n,onName:"onPointerDown",offName:"mouseup",onEvent:e.onPointerDown,offEvent:e.onMouseUp}):o,p=v.active,d=void 0!==p&&p,l=v.onPointerDown;return C((function(){return{active:d,focus:f,hover:i,events:"hover"===n?{pointerover:a,pointerout:u}:"focus"===n?{focus:h,blur:m}:{pointerdown:l}}}),[d,f,i,m,h,l,a,u,e.ref,n])},loopElementEvents=function(e,n,t){Object.entries(n).map((function(n){var o=S(n,2),r=o[0],i=o[1];return e[t](r,i)}))},createCBRef=function(e,n){var t=W(null),o=M((function(n){t.current=n,a(e)?e(n):e&&(e.current=n)}),[t.current,e,e.current]);return B((function(){return t.current&&loopElementEvents(t.current,n,"addEventListener"),function(){t.current&&loopElementEvents(t.current,n,"removeEventListener")}}),[t.current,n]),o},usePointerState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,n=arguments.length>1?arguments[1]:void 0,t=useElementEvents(e,n),r=t.events,i=t.hover,a=t.active,u=t.focus;return{hover:i,focus:u,active:a,events:r,ref:createCBRef(e.ref,r)}},useStylesCallback=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,t=arguments.length>2?arguments[2]:void 0,o=M(e,n),r=F(),i=!(!t||!h(t)||v(t))&&t;return C((function(){return f.apply(void 0,[o,r,i].concat(N(n)))||p}),[r,o,i])},useCompareState=function(e,n,t,o){return C((function(){return o?t?n:E(e,n):e}),[e,n,t,o])},useThemeState=function(e){return function(n,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=W(null),i=usePointerState(_(_({},o),{},{ref:o.ref||r}),e),a=i.ref,u=i[e],c=useCompareState(n,t,Boolean(o.noMerge),u);return[a,c]}},H=useThemeState("hover"),V=useThemeState("active"),Y=useThemeState("focus"),useStyle=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var o=F();return C((function(){return o.get.apply(o,n)||p}),[o].concat(n))};export{ReThemeProvider,setRNDimensions,useDimensions,usePointerState,useStyle,useStylesCallback,V as useThemeActive,Y as useThemeFocus,H as useThemeHover,withTheme};
//# sourceMappingURL=index.js.map
