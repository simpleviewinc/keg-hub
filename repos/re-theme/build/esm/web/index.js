import{D as e,_ as n,R as t,a as o,b as a,g as f,c as v,d as h,e as d,u as E,f as p,h as w}from"./useTheme-200bf6f7.js";export{R as ReThemeContext,k as addThemeEvent,l as fireThemeEvent,c as getDefaultTheme,j as getMergeSizes,g as getSize,i as getSizeMap,r as removeThemeEvent,m as setDefaultTheme,s as setSizes,u as useTheme}from"./useTheme-200bf6f7.js";import S,{useState as L,useEffect as P,useMemo as T,useRef as D,useCallback as N}from"react";import{get as b,hasDomAccess as B,noOpObj as M,isFunc as y,checkCall as z,isObj as O,isEmptyColl as x,noPropObj as F,noPropArr as I,deepMerge as C}from"@keg-hub/jsutils";var U,A,setRNDimensions=function(e){},useDimensions=function(){var t=L(e.get("window")),o=n(t,2),r=o[0],u=o[1],onChange=function(e){var n=e.window,t=n.width,o=n.height,r=n.scale,i=n.fontScale;u({width:t,height:o,scale:r,fontScale:i})};return P((function(){return e.addEventListener("change",onChange),function(){return onChange.shouldUnmount=!0,e.removeEventListener("change",onChange)}}),[]),r},withTheme=function(e){return function(n){return S.createElement(t.Consumer,null,(function(t){return S.createElement(e,o({theme:t},n))}))}},ReThemeProvider=function(o){var r=o.children,u=o.theme,i=o.merge,c=o.platforms,s=Boolean(i||!i&&!1!==i)||!1,m=L(e.get("window")),d=n(m,2),l=d[0],g=d[1],onChange=function(e){var n=e.window,t=n.width,o=n.height,r=n.scale,u=n.fontScale,i=f(t);if(i){var a=i[0],c=h();a!==b(c,["RTMeta","key"])&&g({width:t,height:o,scale:r,fontScale:u})}};P((function(){return e.addEventListener("change",onChange),function(){e.removeEventListener("change",onChange)}}),[]);var E=T((function(){return a(u,l.width,l.height,s&&v(),c)}),[u,l.width,l.height,s,c]);return S.createElement(t.Provider,{value:E},r)},setRNPlatform=function(e){},_=!1;B()&&(U=0,A=function(){U=Date.now(),_&&(_=!1)},document.addEventListener("touchstart",A,!0),document.addEventListener("touchmove",A,!0),document.addEventListener("mousemove",(function(){!_&&Date.now()-U>1e3&&(_=!0)}),!0));var useEventCallBacks=function(e){var t,o=e.pointerState,r=e.onEvent,u=e.offEvent,i=e.onName,a=e.offName,c=L(!1),f=n(c,2),v=f[0],s=f[1],h=N((function(e){z(u,e),s(!1)}),[v,s,u]),m=N((function(e){("hover"!==o||_)&&(z(r,e),s(!0),"active"===o&&document.addEventListener(a,h,{once:!0}))}),[o,v,s,r]);return d(t={},o,v),d(t,i,m),d(t,a,h),t},useElementEvents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,n=arguments.length>1?arguments[1]:void 0,t="hover"===n?useEventCallBacks({pointerState:n,onName:"onPointerIn",offName:"onPointerOut",onEvent:e.onPointerIn,offEvent:e.onPointerOut}):M,o=t.hover,r=void 0!==o&&o,u=t.onPointerIn,i=t.onPointerOut,a="focus"===n?useEventCallBacks({pointerState:n,onName:"onFocus",offName:"onBlur",onEvent:e.onFocus,offEvent:e.onBlur}):M,c=a.focus,f=void 0!==c&&c,v=a.onFocus,s=a.onBlur,h="active"===n?useEventCallBacks({pointerState:n,onName:"onPointerDown",offName:"mouseup",onEvent:e.onPointerDown,offEvent:e.onMouseUp}):M,m=h.active,d=void 0!==m&&m,l=h.onPointerDown;return T((function(){return{active:d,focus:f,hover:r,events:"hover"===n?{pointerover:u,pointerout:i}:"focus"===n?{focus:v,blur:s}:{pointerdown:l}}}),[d,f,r,s,v,l,u,i,e.ref,n])},loopElementEvents=function(e,t,o){Object.entries(t).map((function(t){var r=n(t,2),u=r[0],i=r[1];return e[o](u,i)}))},createCBRef=function(e,n){var t=D(null),o=N((function(n){t.current=n,y(e)?e(n):e&&(e.current=n)}),[t.current,e,e.current]);return P((function(){return t.current&&loopElementEvents(t.current,n,"addEventListener"),function(){t.current&&loopElementEvents(t.current,n,"removeEventListener")}}),[t.current,n]),o},usePointerState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,n=arguments.length>1?arguments[1]:void 0,t=useElementEvents(e,n),o=t.events,r=t.hover,u=t.active,i=t.focus;return{hover:r,focus:i,active:u,events:o,ref:createCBRef(e.ref,o)}},useStylesCallback=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I,t=arguments.length>2?arguments[2]:void 0,o=N(e,n),r=E(),u=!(!t||!O(t)||x(t))&&t;return T((function(){return z.apply(void 0,[o,r,u].concat(p(n)))||F}),[r,o,u])},useCompareState=function(e,n,t,o){return T((function(){return o?t?n:C(e,n):e}),[e,n,t,o])},useThemeState=function(e){return function(n,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=D(null),u=usePointerState(w(w({},o),{},{ref:o.ref||r}),e),i=u.ref,a=u[e],c=useCompareState(n,t,Boolean(o.noMerge),a);return[i,c]}},q=useThemeState("hover"),G=useThemeState("active"),H=useThemeState("focus"),useStyle=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var o=E();return T((function(){return o.get.apply(o,n)||F}),[o].concat(n))};export{ReThemeProvider,setRNDimensions,setRNPlatform,useDimensions,usePointerState,useStyle,useStylesCallback,G as useThemeActive,H as useThemeFocus,q as useThemeHover,withTheme};
//# sourceMappingURL=index.js.map
