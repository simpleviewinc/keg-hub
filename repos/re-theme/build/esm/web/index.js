import{D as e,_ as t,R as o,a,b as f,g as h,c as v,d as p,e as d,u as E,f as y,h as S}from"./useTheme-dc2e75a2.js";export{R as ReThemeContext,l as addThemeEvent,m as fireThemeEvent,c as getDefaultTheme,j as getMergeSizes,g as getSize,i as getSizeMap,r as removeThemeEvent,n as setDefaultTheme,s as setRNPlatform,k as setSizes,u as useTheme}from"./useTheme-dc2e75a2.js";import w,{useState as T,useEffect as P,useMemo as b,useRef as O,useCallback as L}from"react";import{get as D,hasDomAccess as F,noOpObj as N,isFunc as _,checkCall as x,isObj as I,isEmptyColl as B,noPropObj as C,noPropArr as W,deepMerge as M}from"@keg-hub/jsutils";var setRNDimensions=function(e){},useDimensions=function(){var n=T(e.get("window")),o=t(n,2),r=o[0],i=o[1],onChange=function(e){var n=e.window,t=n.width,o=n.height,r=n.scale,a=n.fontScale;i({width:t,height:o,scale:r,fontScale:a})};return P((function(){return e.addEventListener("change",onChange),function(){return onChange.shouldUnmount=!0,e.removeEventListener("change",onChange)}}),[]),r};function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var z,U=(function(e){e.exports=function(){function shim(e,n,t,o,r,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function getShim(){return shim}shim.isRequired=shim;var e={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return e.PropTypes=e,e}()}(z={exports:{}},z.exports),z.exports),withTheme=function(e){return function(n){return w.createElement(o.Consumer,null,(function(t){return w.createElement(e,a({theme:t},n))}))}},ReThemeProvider=function(n){var r=n.children,i=n.theme,a=n.merge,u=n.platforms,c=Boolean(a||!a&&!1!==a)||!1,s=T(e.get("window")),m=t(s,2),d=m[0],l=m[1],onChange=function(e){var n=e.window,t=n.width,o=n.height,r=n.scale,i=n.fontScale,a=h(t);if(a){var u=a[0],c=p();u!==D(c,["RTMeta","key"])&&l({width:t,height:o,scale:r,fontScale:i})}};P((function(){return e.addEventListener("change",onChange),function(){e.removeEventListener("change",onChange)}}),[]);var g=b((function(){return f(i,d.width,d.height,c&&v(),u)}),[i,d.width,d.height,c,u]);return w.createElement(o.Provider,{value:g},r)};ReThemeProvider.propTypes={theme:U.object.isRequired,merge:U.bool,platforms:U.array,children:U.node};var q,A,H=!1;F()&&(q=0,A=function(){q=Date.now(),H&&(H=!1)},document.addEventListener("touchstart",A,!0),document.addEventListener("touchmove",A,!0),document.addEventListener("mousemove",(function(){!H&&Date.now()-q>1e3&&(H=!0)}),!0));var useEventCallBacks=function(e){var n,o=e.pointerState,r=e.onEvent,i=e.offEvent,a=e.onName,u=e.offName,c=T(!1),s=t(c,2),f=s[0],h=s[1],m=L((function(e){x(i,e),h(!1)}),[f,h,i]),v=L((function(e){("hover"!==o||H)&&(x(r,e),h(!0),"active"===o&&document.addEventListener(u,m,{once:!0}))}),[o,f,h,r]);return d(n={},o,f),d(n,a,v),d(n,u,m),n},useElementEvents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,n=arguments.length>1?arguments[1]:void 0,t="hover"===n?useEventCallBacks({pointerState:n,onName:"onPointerIn",offName:"onPointerOut",onEvent:e.onPointerIn,offEvent:e.onPointerOut}):N,o=t.hover,r=void 0!==o&&o,i=t.onPointerIn,a=t.onPointerOut,u="focus"===n?useEventCallBacks({pointerState:n,onName:"onFocus",offName:"onBlur",onEvent:e.onFocus,offEvent:e.onBlur}):N,c=u.focus,s=void 0!==c&&c,f=u.onFocus,h=u.onBlur,m="active"===n?useEventCallBacks({pointerState:n,onName:"onPointerDown",offName:"mouseup",onEvent:e.onPointerDown,offEvent:e.onMouseUp}):N,v=m.active,p=void 0!==v&&v,d=m.onPointerDown;return b((function(){return{active:p,focus:s,hover:r,events:"hover"===n?{pointerover:i,pointerout:a}:"focus"===n?{focus:f,blur:h}:{pointerdown:d}}}),[p,s,r,h,f,d,i,a,e.ref,n])},loopElementEvents=function(e,n,o){Object.entries(n).map((function(n){var r=t(n,2),i=r[0],a=r[1];return e[o](i,a)}))},createCBRef=function(e,n){var t=O(null),o=L((function(n){t.current=n,_(e)?e(n):e&&(e.current=n)}),[t.current,e,e.current]);return P((function(){return t.current&&loopElementEvents(t.current,n,"addEventListener"),function(){t.current&&loopElementEvents(t.current,n,"removeEventListener")}}),[t.current,n]),o},usePointerState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,n=arguments.length>1?arguments[1]:void 0,t=useElementEvents(e,n),o=t.events,r=t.hover,i=t.active,a=t.focus;return{hover:r,focus:a,active:i,events:o,ref:createCBRef(e.ref,o)}},useStylesCallback=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:W,t=arguments.length>2?arguments[2]:void 0,o=L(e,n),r=E(),i=!(!t||!I(t)||B(t))&&t;return b((function(){return x.apply(void 0,[o,r,i].concat(y(n)))||C}),[r,o,i])},useCompareState=function(e,n,t,o){return b((function(){return o?t?n:M(e,n):e}),[e,n,t,o])},useThemeState=function(e){return function(n,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=O(null),i=usePointerState(S(S({},o),{},{ref:o.ref||r}),e),a=i.ref,u=i[e],c=useCompareState(n,t,Boolean(o.noMerge),u);return[a,c]}},V=useThemeState("hover"),Y=useThemeState("active"),G=useThemeState("focus"),useStyle=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var o=E();return b((function(){return o.get.apply(o,n)||C}),[o].concat(n))};export{ReThemeProvider,setRNDimensions,useDimensions,usePointerState,useStyle,useStylesCallback,Y as useThemeActive,G as useThemeFocus,V as useThemeHover,withTheme};
//# sourceMappingURL=index.js.map
