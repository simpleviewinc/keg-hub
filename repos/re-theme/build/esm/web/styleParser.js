import{isArr as e,isFunc as r,camelCase as t,exists as a,checkCall as n,isObj as s}from"@keg-hub/jsutils";import{h as c,_ as l,e as o,c as i}from"./_rollupPluginBabelHelpers-cd4ddb53.js";var getStyleContent=function(r){var t=/\{(.+?)\}/,a=new RegExp(t,"gi"),n=[],s=r.match(a);for(var c in s){var l=s[c];n[c]=l.match(new RegExp(t))}return e(n[0])?n[0][1]:""},cssToJs=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=getStyleContent(e).trim().split(";");return n.reduce((function(e,r){if(-1===r.indexOf(":"))return e;var n=r.split(":"),s=l(n,2),c=s[0],u=s[1];return c=t(c.trim()),u=u.trim(),a(c)&&a(u)&&""!==c&&""!==u?o(o({},e),{},i({},c,u)):e}),r)},styleSheetParser=function(t){var a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c()&&e(t.classNames)?r(t.callback)?t:(console.error("[ Error ] styleSheetParser requires a function callback.\nIt received:",t.callback),{valid:!1}):(console.error("[ Error ] styleSheetParser requires Dom Access and an array of class names!"),{valid:!1})}(t),l=a.classNames,o=a.callback,i=a.toDom,u=void 0===i||i;if(!1===a.valid)return{};var d,m,f=e(l)&&Array.from(document.styleSheets).reduce((function(e,r){return function(e,r,t,a){return Array.from(r.cssRules).reduce((function(e,r){if(!r.selectorText||!r.cssText)return e;var s=r.selectorText.split(" ").shift();return t.includes(s)?n(a,r,s,e,cssToJs):e}),e)}(e,r,l,o)}),{asStr:""});return u&&s(f)&&f.asStr&&(d=f.asStr,(m=document.createElement("style")).styleSheet?m.styleSheet.cssText=d:m.appendChild(document.createTextNode(d)),document.getElementsByTagName("head")[0].appendChild(m)),f};export{styleSheetParser};
//# sourceMappingURL=styleParser.js.map
