{"version":3,"file":"withTouch.js","sources":["../../../src/hocs/withTouch.js"],"sourcesContent":["import React from 'react'\nimport { Touchable } from '../components/touchable'\nimport { useTheme } from '@keg-hub/re-theme'\nimport { get } from '@keg-hub/jsutils'\nimport PropTypes from 'prop-types'\nimport { noPropObj } from '@keg-hub/jsutils'\n\n/**\n * Returns a new component that wraps `Component` with touchable capabilities.\n * @param {Function} Component - a react component to be wrapped\n * @param {Object} options - options obj\n * @param {Boolean} options.showFeedback - if true, show feedback opacity animation (Touchable), otherwise show none (TouchableWithoutFeedback)\n * @returns {Function} - react component that wraps Component\n */\nexport const withTouch = (Component, options = {}) => {\n  const { showFeedback = true } = options\n\n  /**\n   * Wrapped react component\n   * @param {Object} props\n   * @param {String} props.touchThemePath - optional theme path for Touchable wrapping the component\n   * @param {Object} props.touchStyle - optional style object for Touchable wrapping the component\n   * @param {Function} props.onPress - callback on touch\n   * @param {...*} props.remaining - remaining props get passed down to the wrapped component\n   */\n  const wrapped = React.forwardRef((props, ref) => {\n    const {\n      touchThemePath = '',\n      touchStyle = noPropObj,\n      onPress,\n      ...otherProps\n    } = props\n\n    const theme = useTheme()\n\n    return (\n      <Touchable\n        showFeedback={showFeedback}\n        style={[ get(theme, touchThemePath), touchStyle ]}\n        onPress={onPress}\n      >\n        <Component\n          ref={ref}\n          {...otherProps}\n        />\n      </Touchable>\n    )\n  })\n\n  wrapped.propTypes = {\n    touchThemePath: PropTypes.string,\n    touchStyle: PropTypes.object,\n    onPress: PropTypes.func,\n  }\n\n  return wrapped\n}\n"],"names":["withTouch","Component","options","showFeedback","wrapped","React","forwardRef","props","ref","touchThemePath","touchStyle","noPropObj","onPress","otherProps","theme","useTheme","get"],"mappings":";;;;;;;;;;;IAcaA,SAAS,GAAG,SAAZA,SAAY,CAACC,SAAD,EAA6B;AAAA,MAAjBC,OAAiB,uEAAP,EAAO;AACpD,8BAAgCA,OAAhC,CAAQC,YAAR;AAAA,MAAQA,YAAR,sCAAuB,IAAvB;AAUA,MAAMC,OAAO,GAAGC,cAAK,CAACC,UAAN,CAAiB,UAACC,KAAD,EAAQC,GAAR,EAAgB;AAC/C,gCAKID,KALJ,CACEE,cADF;AAAA,QACEA,cADF,sCACmB,EADnB;AAAA,4BAKIF,KALJ,CAEEG,UAFF;AAAA,QAEEA,UAFF,kCAEeC,SAFf;AAAA,QAGEC,OAHF,GAKIL,KALJ,CAGEK,OAHF;AAAA,QAIKC,UAJL,4BAKIN,KALJ;AAOA,QAAMO,KAAK,GAAGC,QAAQ,EAAtB;AAEA,WACEV,6BAAC,SAAD;AACE,MAAA,YAAY,EAAEF,YADhB;AAEE,MAAA,KAAK,EAAE,CAAEa,GAAG,CAACF,KAAD,EAAQL,cAAR,CAAL,EAA8BC,UAA9B,CAFT;AAGE,MAAA,OAAO,EAAEE;AAHX,OAKEP,6BAAC,SAAD;AACE,MAAA,GAAG,EAAEG;AADP,OAEMK,UAFN,EALF,CADF;AAYD,GAtBe,CAAhB;AA8BA,SAAOT,OAAP;AACD;;;;"}