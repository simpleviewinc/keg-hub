{"version":3,"file":"input.js","sources":["../../../src/components/form/input/input.js"],"sourcesContent":["import React from 'react'\nimport { getValueFromChildren, getReadOnly } from '../../../utils'\nimport {\n  useThemePath,\n  useInputHandlers,\n  usePressHandlers,\n} from '../../../hooks'\nimport PropTypes from 'prop-types'\nimport { Input as InternalInput } from '../../internal/input.js'\nimport { StyleInjector } from '@keg-hub/re-theme/styleInjector'\n\n/**\n * Wrap the internal component with the Styles Injector Hoc\n * <br/>This allows us to add the styles as css classes\n */\nconst KegInput = StyleInjector(InternalInput, {\n  displayName: 'Input',\n  className: 'keg-input',\n})\n\n/**\n * Gets the key value pair for the select components value\n * @param {*} props - Props passed to the component\n * @param {*} isWeb - Is the platform equal to web\n *\n * @returns {Object} - key / value pair for the select component\n */\nconst getValue = ({ children, value }) => {\n  const setValue = getValueFromChildren(value, children)\n\n  return value !== undefined ? { value: setValue } : {} // return empty object, otherwise we would not be able to type into input since it would be waiting on value prop to change\n}\n\n/**\n * Input\n * @summary Default Input component that wraps the Internal Input component with the styles injector. All props are optional\n *\n * @param {Object} props - see KegInput PropTypes\n * @property {String} props.className - Value to set the className to (web platform only)\n *\n */\nexport const Input = React.forwardRef((props, ref) => {\n  const {\n    className,\n    children,\n    disabled = false,\n    editable = true,\n    Element,\n    onChange,\n    onValueChange,\n    onChangeText,\n    onClick,\n    onPress,\n    readOnly = false,\n    type = 'default',\n    themePath = `form.input.${type}`,\n    style,\n    value,\n    ...elProps\n  } = props\n\n  const inputStyles = useThemePath(themePath)\n\n  return (\n    <KegInput\n      accessibilityRole='textbox'\n      onPress={onPress}\n      {...getReadOnly(false, readOnly, disabled, editable)}\n      {...getValue(props, false)}\n      {...useInputHandlers({ onChange, onValueChange, onChangeText })}\n      {...usePressHandlers(false, { onClick, onPress })}\n      {...elProps}\n      style={[ inputStyles, style ]}\n      ref={ref}\n    />\n  )\n})\n\nInput.propTypes = {\n  ...KegInput.propTypes,\n  children: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.string,\n    PropTypes.array,\n  ]),\n  onClick: PropTypes.func,\n  onPress: PropTypes.func,\n  onChange: PropTypes.func,\n  onValueChange: PropTypes.func,\n  onChangeText: PropTypes.func,\n  placeholder: PropTypes.string,\n  style: PropTypes.object,\n  type: PropTypes.string,\n  value: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]),\n}\n"],"names":["KegInput","StyleInjector","InternalInput","displayName","className","getValue","children","value","setValue","getValueFromChildren","undefined","Input","React","forwardRef","props","ref","disabled","editable","Element","onChange","onValueChange","onChangeText","onClick","onPress","readOnly","type","themePath","style","elProps","inputStyles","useThemePath","getReadOnly","useInputHandlers","usePressHandlers"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAeA,IAAMA,QAAQ,GAAGC,aAAa,CAACC,OAAD,EAAgB;AAC5CC,EAAAA,WAAW,EAAE,OAD+B;AAE5CC,EAAAA,SAAS,EAAE;AAFiC,CAAhB,CAA9B;AAYA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,OAAyB;AAAA,MAAtBC,QAAsB,QAAtBA,QAAsB;AAAA,MAAZC,KAAY,QAAZA,KAAY;AACxC,MAAMC,QAAQ,GAAGC,oBAAoB,CAACF,KAAD,EAAQD,QAAR,CAArC;AAEA,SAAOC,KAAK,KAAKG,SAAV,GAAsB;AAAEH,IAAAA,KAAK,EAAEC;AAAT,GAAtB,GAA4C,EAAnD,CAHwC;AAIzC,CAJD;IAcaG,KAAK,GAAGC,cAAK,CAACC,UAAN,CAAiB,UAACC,KAAD,EAAQC,GAAR,EAAgB;AACpD,EAiBID,KAjBJ,CACEV,SADF;AAAA,MAiBIU,KAjBJ,CAEER,QAFF;AAAA,4BAiBIQ,KAjBJ,CAGEE,QAHF;AAAA,MAGEA,QAHF,gCAGa,KAHb;AAAA,wBAiBIF,KAjBJ,CAIEG,QAJF;AAAA,MAIEA,QAJF,gCAIa,IAJb;AAAA,MAiBIH,KAjBJ,CAKEI,OALF;AAAA,UAMEC,QANF,GAiBIL,KAjBJ,CAMEK,QANF;AAAA,MAOEC,aAPF,GAiBIN,KAjBJ,CAOEM,aAPF;AAAA,MAQEC,YARF,GAiBIP,KAjBJ,CAQEO,YARF;AAAA,MASEC,OATF,GAiBIR,KAjBJ,CASEQ,OATF;AAAA,MAUEC,OAVF,GAiBIT,KAjBJ,CAUES,OAVF;AAAA,wBAiBIT,KAjBJ,CAWEU,QAXF;AAAA,MAWEA,QAXF,gCAWa,KAXb;AAAA,oBAiBIV,KAjBJ,CAYEW,IAZF;AAAA,MAYEA,IAZF,4BAYS,SAZT;AAAA,yBAiBIX,KAjBJ,CAaEY,SAbF;AAAA,MAaEA,SAbF,sDAa4BD,IAb5B;AAAA,MAcEE,KAdF,GAiBIb,KAjBJ,CAcEa,KAdF;AAAA,MAiBIb,KAjBJ,CAeEP,KAfF;AAAA,UAgBKqB,OAhBL,4BAiBId,KAjBJ;AAmBA,MAAMe,WAAW,GAAGC,YAAY,CAACJ,SAAD,CAAhC;AAEA,SACEd,6BAAC,QAAD;AACE,IAAA,iBAAiB,EAAC,SADpB;AAEE,IAAA,OAAO,EAAEW;AAFX,KAGMQ,WAAW,CAAC,KAAD,EAAQP,QAAR,EAAkBR,QAAlB,EAA4BC,QAA5B,CAHjB,EAIMZ,QAAQ,CAACS,KAAD,CAJd,EAKMkB,gBAAgB,CAAC;AAAEb,IAAAA,QAAQ,EAARA,QAAF;AAAYC,IAAAA,aAAa,EAAbA,aAAZ;AAA2BC,IAAAA,YAAY,EAAZA;AAA3B,GAAD,CALtB,EAMMY,gBAAgB,CAAC,KAAD,EAAQ;AAAEX,IAAAA,OAAO,EAAPA,OAAF;AAAWC,IAAAA,OAAO,EAAPA;AAAX,GAAR,CANtB,EAOMK,OAPN;AAQE,IAAA,KAAK,EAAE,CAAEC,WAAF,EAAeF,KAAf,CART;AASE,IAAA,GAAG,EAAEZ;AATP,KADF;AAaD,CAnCoB;;;;"}