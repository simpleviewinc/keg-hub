{"version":3,"file":"updateClassNames.js","sources":["../../../src/utils/helpers/updateClassNames.js"],"sourcesContent":["import { getPlatform } from 'KegGetPlatform'\nimport { ensureClassArray } from '../../utils/helpers/ensureClassArray'\nconst isWeb = getPlatform() === 'web'\n\n/**\n * Helper to update the classNames on a Dom node\n * @param {Object} element - Dom node element\n * @param {RefObject<Array<string>>} classesRef - Array of classes currently on the element\n * @param {string} defClass - Default keg-components class always on the element\n * @param {string|Array[string]} className - Class or classes to add to the element\n *\n * @returns {void}\n */\nexport const updateClassNames = (element, classesRef, defClass, className) => {\n  if (!isWeb || !('classList' in element)) return\n\n  // Add the default classes to the classList\n  defClass && element.classList.add(...defClass.split(' '))\n\n  // Ensure we have a flat array\n  const classArr = ensureClassArray(className)\n\n  // Loop over the previous classes, and see if any have been removed\n  classesRef.current.map(\n    cls =>\n      cls &&\n      classArr.indexOf(cls) === -1 &&\n      element.classList.remove(...cls.split(' '))\n  )\n\n  // Update our ref with the new classes\n  // Which will allows us to check them for updates on next render\n  classesRef.current = classArr\n\n  // Add the classes to the element\n  classArr.map(cls => element.classList.add(...cls.split(' ')))\n}\n"],"names":["updateClassNames","element","classesRef","defClass","className","classList","add","split","classArr","ensureClassArray","current","map","cls","indexOf","remove"],"mappings":";;;;IAaaA,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,OAAD,EAAUC,UAAV,EAAsBC,QAAtB,EAAgCC,SAAhC,EAA8C;AAAA;AAC5E,MAAc,EAAE,eAAeH,OAAjB,CAAd,EAAyC,OADmC;AAI5EE,EAAAA,QAAQ,IAAI,sBAAAF,OAAO,CAACI,SAAR,EAAkBC,GAAlB,8CAAyBH,QAAQ,CAACI,KAAT,CAAe,GAAf,CAAzB,EAAZ,CAJ4E;AAO5E,MAAMC,QAAQ,GAAGC,gBAAgB,CAACL,SAAD,CAAjC,CAP4E;AAU5EF,EAAAA,UAAU,CAACQ,OAAX,CAAmBC,GAAnB,CACE,UAAAC,GAAG;AAAA;AAAA,WACDA,GAAG,IACHJ,QAAQ,CAACK,OAAT,CAAiBD,GAAjB,MAA0B,CAAC,CAD3B,IAEA,uBAAAX,OAAO,CAACI,SAAR,EAAkBS,MAAlB,+CAA4BF,GAAG,CAACL,KAAJ,CAAU,GAAV,CAA5B,EAHC;AAAA,GADL,EAV4E;AAmB5EL,EAAAA,UAAU,CAACQ,OAAX,GAAqBF,QAArB,CAnB4E;AAsB5EA,EAAAA,QAAQ,CAACG,GAAT,CAAa,UAAAC,GAAG;AAAA;AAAA,WAAI,uBAAAX,OAAO,CAACI,SAAR,EAAkBC,GAAlB,+CAAyBM,GAAG,CAACL,KAAJ,CAAU,GAAV,CAAzB,EAAJ;AAAA,GAAhB;AACD;;;;"}