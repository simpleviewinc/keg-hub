{"version":3,"file":"useKeyPress.js","sources":["../../../src/hooks/useKeyPress/useKeyPress.js"],"sourcesContent":["import { useState, useCallback, useEffect } from 'react'\n\n/**\n * Helper for `useKeyPress` that sets and removes window listeners\n * @param {Function} upHandler\n * @param {Function} downHandler\n */\nconst manageListeners = (upHandler, downHandler) => {\n  window.addEventListener('keydown', downHandler)\n  window.addEventListener('keyup', upHandler)\n\n  // cleanup\n  return () => {\n    window.removeEventListener('keydown', downHandler)\n    window.removeEventListener('keyup', upHandler)\n  }\n}\n\n/**\n * @param {string} targetKey\n * @return {boolean} whether the key was pressed down or not\n */\nexport const useKeyPress = targetKey => {\n  const [ keyPressed, setKeyPressed ] = useState(false)\n\n  const downHandler = useCallback(\n    evt => evt.key === targetKey && setKeyPressed(true),\n    [ setKeyPressed, targetKey ]\n  )\n\n  const upHandler = useCallback(\n    evt => evt.key === targetKey && setKeyPressed(false),\n    [ setKeyPressed, targetKey ]\n  )\n\n  useEffect(\n    () => manageListeners(upHandler, downHandler),\n    [ downHandler, upHandler ]\n  )\n\n  return keyPressed\n}\n"],"names":["manageListeners","upHandler","downHandler","window","addEventListener","removeEventListener","useKeyPress","targetKey","useState","keyPressed","setKeyPressed","useCallback","evt","key","useEffect"],"mappings":";;;AAOA,IAAMA,eAAe,GAAG,SAAlBA,eAAkB,CAACC,SAAD,EAAYC,WAAZ,EAA4B;AAClDC,EAAAA,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmCF,WAAnC;AACAC,EAAAA,MAAM,CAACC,gBAAP,CAAwB,OAAxB,EAAiCH,SAAjC,EAFkD;AAKlD,SAAO,YAAM;AACXE,IAAAA,MAAM,CAACE,mBAAP,CAA2B,SAA3B,EAAsCH,WAAtC;AACAC,IAAAA,MAAM,CAACE,mBAAP,CAA2B,OAA3B,EAAoCJ,SAApC;AACD,GAHD;AAID,CATD;IAeaK,WAAW,GAAG,SAAdA,WAAc,CAAAC,SAAS,EAAI;AACtC,kBAAsCC,QAAQ,CAAC,KAAD,CAA9C;AAAA;AAAA,MAAQC,UAAR;AAAA,MAAoBC,aAApB;AAEA,MAAMR,WAAW,GAAGS,WAAW,CAC7B,UAAAC,GAAG;AAAA,WAAIA,GAAG,CAACC,GAAJ,KAAYN,SAAZ,IAAyBG,aAAa,CAAC,IAAD,CAA1C;AAAA,GAD0B,EAE7B,CAAEA,aAAF,EAAiBH,SAAjB,CAF6B,CAA/B;AAKA,MAAMN,SAAS,GAAGU,WAAW,CAC3B,UAAAC,GAAG;AAAA,WAAIA,GAAG,CAACC,GAAJ,KAAYN,SAAZ,IAAyBG,aAAa,CAAC,KAAD,CAA1C;AAAA,GADwB,EAE3B,CAAEA,aAAF,EAAiBH,SAAjB,CAF2B,CAA7B;AAKAO,EAAAA,SAAS,CACP;AAAA,WAAMd,eAAe,CAACC,SAAD,EAAYC,WAAZ,CAArB;AAAA,GADO,EAEP,CAAEA,WAAF,EAAeD,SAAf,CAFO,CAAT;AAKA,SAAOQ,UAAP;AACD;;;;"}