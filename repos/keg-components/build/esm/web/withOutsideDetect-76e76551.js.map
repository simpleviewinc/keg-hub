{"version":3,"file":"withOutsideDetect-76e76551.js","sources":["../../../src/hooks/useOutsideDetect/useOutsideDetect.js","../../../src/hocs/withOutsideDetect.js"],"sourcesContent":["import { useEffect } from 'react'\n\n/**\n *\n * @param {Event} evt - event object\n * @param {RefObject} ref - element to check\n * @returns {boolean} - true if event occured outside of element stored at ref.current\n */\nconst eventIsOutside = (evt, ref) => {\n  return ref?.current && !ref.current.contains(evt.target)\n}\n\n/**\n * Listens for the user clicking outside the element stored in `ref`. If it detects a click,\n * then it calls onOutsideClick.\n * @param {RefObject} ref - ref object storing a DOM Node\n * @param {Function?} onOutsideClick - fn of form (event) => {}\n */\nexport const useOutsideDetect = (ref, onOutsideClick) => {\n  useEffect(() => {\n    // alert if clicked outside of element stored at ref\n    const handleClickOutside = event =>\n      eventIsOutside(event, ref) && onOutsideClick?.(event)\n\n    document.addEventListener('mousedown', handleClickOutside)\n\n    return () => document.removeEventListener('mousedown', handleClickOutside)\n  }, [ ref, onOutsideClick ])\n}\n","import React from 'react'\nimport { useOutsideDetect } from 'KegHooks'\n\nimport PropTypes from 'prop-types'\n\n/**\n * Wraps component with detection of clicks outside its bounds. The returned component\n * accepts an additional prop: onOutsideClick, which fires whenever\n * the user clicks outside of `Component`.\n * @param {Component} Component (must accept a `ref`)\n * @return {Component} the wrapped component\n */\nexport const withOutsideDetect = Component => {\n  const wrapped = React.forwardRef((props, ref) => {\n    const { onOutsideClick, ...clientProps } = props\n\n    const fallbackRef = React.useRef()\n    const detectRef = ref || fallbackRef\n    useOutsideDetect(detectRef, onOutsideClick)\n\n    return <Component\n      {...clientProps}\n      ref={detectRef}\n    />\n  })\n\n  wrapped.propTypes = {\n    ...Component.propTypes,\n    onOutsideClick: PropTypes.func,\n  }\n\n  wrapped.displayName = Component.displayName || Component.name || 'Component'\n\n  return wrapped\n}\n"],"names":["eventIsOutside","evt","ref","current","contains","target","useOutsideDetect","onOutsideClick","useEffect","handleClickOutside","event","document","addEventListener","removeEventListener","withOutsideDetect","Component","wrapped","React","forwardRef","props","clientProps","fallbackRef","useRef","detectRef","displayName","name"],"mappings":";;;;;;;;AAQA,IAAMA,cAAc,GAAG,SAAjBA,cAAiB,CAACC,GAAD,EAAMC,GAAN,EAAc;AACnC,SAAO,CAAAA,GAAG,SAAH,IAAAA,GAAG,WAAH,YAAAA,GAAG,CAAEC,OAAL,KAAgB,CAACD,GAAG,CAACC,OAAJ,CAAYC,QAAZ,CAAqBH,GAAG,CAACI,MAAzB,CAAxB;AACD,CAFD;IAUaC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACJ,GAAD,EAAMK,cAAN,EAAyB;AACvDC,EAAAA,SAAS,CAAC,YAAM;AAEd,QAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,KAAK;AAAA,aAC9BV,cAAc,CAACU,KAAD,EAAQR,GAAR,CAAd,KAA8BK,cAA9B,aAA8BA,cAA9B,uBAA8BA,cAAc,CAAGG,KAAH,CAA5C,CAD8B;AAAA,KAAhC;AAGAC,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuCH,kBAAvC;AAEA,WAAO;AAAA,aAAME,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,EAA0CJ,kBAA1C,CAAN;AAAA,KAAP;AACD,GARQ,EAQN,CAAEP,GAAF,EAAOK,cAAP,CARM,CAAT;AASD;;;IChBYO,iBAAiB,GAAG,SAApBA,iBAAoB,CAAAC,SAAS,EAAI;AAC5C,MAAMC,OAAO,GAAGC,cAAK,CAACC,UAAN,CAAiB,UAACC,KAAD,EAAQjB,GAAR,EAAgB;AAC/C,QAAQK,cAAR,GAA2CY,KAA3C,CAAQZ,cAAR;AAAA,QAA2Ba,WAA3B,4BAA2CD,KAA3C;AAEA,QAAME,WAAW,GAAGJ,cAAK,CAACK,MAAN,EAApB;AACA,QAAMC,SAAS,GAAGrB,GAAG,IAAImB,WAAzB;AACAf,IAAAA,gBAAgB,CAACiB,SAAD,EAAYhB,cAAZ,CAAhB;AAEA,WAAOU,6BAAC,SAAD,eACDG,WADC;AAEL,MAAA,GAAG,EAAEG;AAFA,OAAP;AAID,GAXe,CAAhB;AAkBAP,EAAAA,OAAO,CAACQ,WAAR,GAAsBT,SAAS,CAACS,WAAV,IAAyBT,SAAS,CAACU,IAAnC,IAA2C,WAAjE;AAEA,SAAOT,OAAP;AACD;;;;"}