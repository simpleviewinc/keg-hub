{"version":3,"file":"select.js","sources":["../../../src/components/form/select/select.js"],"sourcesContent":["import React from 'react'\nimport { View } from 'KegView'\nimport PropTypes from 'prop-types'\nimport { Select as InternalSelect } from '../../internal/select'\nimport { useThemePath } from '../../../hooks'\nimport { useSelectHandlers } from '../../../hooks/useSelectHandlers'\nimport { getValueFromChildren, getInputValueKey } from '../../../utils'\nimport { useClassName } from 'KegClassName'\nimport { useThemeTypeAsClass } from 'KegTypeAsClass'\nimport { ChevronDown } from '../../../assets/icons'\nimport { Icon } from 'KegIcon'\nimport { StyleInjector } from '@keg-hub/re-theme/styleInjector'\n\n/**\n * Wrap the internal component with the Styles Injector Hoc\n * <br/>This allows us to add the styles as css classes\n */\nconst KegSelect = StyleInjector(InternalSelect, {\n  displayName: 'Select',\n  className: 'keg-select',\n})\n\n/**\n * Gets the key value pair for the select components value\n * @param {*} props - Props passed to the component\n *\n * @returns {Object} - key / value pair for the select component\n */\nconst getValue = props => {\n  const { children, onChange, onValueChange, readOnly, value } = props\n\n  const setValue = getValueFromChildren(value, children)\n  const valKey = getInputValueKey(false, onChange, onValueChange, readOnly)\n\n  return { [valKey]: setValue }\n}\n\n/**\n * Select\n * @summary Default Select component that wraps the Internal Select component with the styles injector. All props are optional\n *\n * @param {Object} props - see KegSelect PropTypes\n * @property {String} props.className - Value to set the className to (web platform only)\n *\n */\nexport const Select = React.forwardRef((props, ref) => {\n  const {\n    className,\n    children,\n    disabled,\n    readOnly,\n    onChange,\n    onValueChange,\n    style,\n    styles,\n    type = 'default',\n    themePath = `form.select.${type}`,\n    value,\n    ...elProps\n  } = props\n\n  const selectStyles = useThemePath(themePath, styles)\n  const selectClasses = useThemeTypeAsClass(\n    themePath || type,\n    'keg-select',\n    className\n  )\n  const classRef = useClassName('keg-select', selectClasses, ref)\n\n  return (\n    <View style={[ selectStyles.main, style ]}>\n      <KegSelect\n        ref={classRef}\n        {...elProps}\n        enabled={!disabled}\n        style={[selectStyles.select]}\n        {...getValue(props)}\n        {...useSelectHandlers({ onChange, onValueChange })}\n      >\n        { children }\n      </KegSelect>\n      <Icon\n        styles={selectStyles.icon}\n        Component={ChevronDown}\n        color={disabled && selectStyles.icon?.disabled?.color}\n      />\n    </View>\n  )\n})\n\nSelect.propTypes = {\n  ...InternalSelect.propTypes,\n  children: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.string,\n    PropTypes.array,\n  ]),\n  disabled: PropTypes.bool,\n  onChange: PropTypes.func,\n  onValueChange: PropTypes.func,\n  ref: PropTypes.object,\n  style: PropTypes.object,\n  type: PropTypes.string,\n  value: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]),\n}\n"],"names":["KegSelect","StyleInjector","InternalSelect","displayName","className","getValue","props","children","onChange","onValueChange","readOnly","value","setValue","getValueFromChildren","valKey","getInputValueKey","Select","React","forwardRef","ref","disabled","style","styles","type","themePath","elProps","selectStyles","useThemePath","selectClasses","useThemeTypeAsClass","classRef","useClassName","main","select","useSelectHandlers","icon","ChevronDown","color"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiBA,IAAMA,SAAS,GAAGC,aAAa,CAACC,QAAD,EAAiB;AAC9CC,EAAAA,WAAW,EAAE,QADiC;AAE9CC,EAAAA,SAAS,EAAE;AAFmC,CAAjB,CAA/B;AAWA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAAC,KAAK,EAAI;AAAA,MAChBC,QADgB,GACuCD,KADvC,CAChBC,QADgB;AAAA,MACNC,QADM,GACuCF,KADvC,CACNE,QADM;AAAA,MACIC,aADJ,GACuCH,KADvC,CACIG,aADJ;AAAA,MACmBC,QADnB,GACuCJ,KADvC,CACmBI,QADnB;AAAA,MAC6BC,KAD7B,GACuCL,KADvC,CAC6BK,KAD7B;AAGxB,MAAMC,QAAQ,GAAGC,oBAAoB,CAACF,KAAD,EAAQJ,QAAR,CAArC;AACA,MAAMO,MAAM,GAAGC,gBAAgB,CAAC,KAAD,EAAQP,QAAR,EAAkBC,aAAlB,EAAiCC,QAAjC,CAA/B;AAEA,6BAAUI,MAAV,EAAmBF,QAAnB;AACD,CAPD;IAiBaI,MAAM,GAAGC,cAAK,CAACC,UAAN,CAAiB,UAACZ,KAAD,EAAQa,GAAR,EAAgB;AAAA;AAAA,MAEnDf,SAFmD,GAcjDE,KAdiD,CAEnDF,SAFmD;AAAA,MAGnDG,QAHmD,GAcjDD,KAdiD,CAGnDC,QAHmD;AAAA,MAInDa,QAJmD,GAcjDd,KAdiD,CAInDc,QAJmD;AAAA,MAKnDV,QALmD,GAcjDJ,KAdiD,CAKnDI,QALmD;AAAA,MAMnDF,QANmD,GAcjDF,KAdiD,CAMnDE,QANmD;AAAA,MAOnDC,aAPmD,GAcjDH,KAdiD,CAOnDG,aAPmD;AAAA,MAQnDY,KARmD,GAcjDf,KAdiD,CAQnDe,KARmD;AAAA,MASnDC,MATmD,GAcjDhB,KAdiD,CASnDgB,MATmD;AAAA,oBAcjDhB,KAdiD,CAUnDiB,IAVmD;AAAA,MAUnDA,IAVmD,4BAU5C,SAV4C;AAAA,yBAcjDjB,KAdiD,CAWnDkB,SAXmD;AAAA,MAWnDA,SAXmD,uDAWxBD,IAXwB;AAAA,MAYnDZ,KAZmD,GAcjDL,KAdiD,CAYnDK,KAZmD;AAAA,MAahDc,OAbgD,4BAcjDnB,KAdiD;AAgBrD,MAAMoB,YAAY,GAAGC,YAAY,CAACH,SAAD,EAAYF,MAAZ,CAAjC;AACA,MAAMM,aAAa,GAAGC,mBAAmB,CACvCL,SAAS,IAAID,IAD0B,EAEvC,YAFuC,EAGvCnB,SAHuC,CAAzC;AAKA,MAAM0B,QAAQ,GAAGC,YAAY,CAAC,YAAD,EAAeH,aAAf,EAA8BT,GAA9B,CAA7B;AAEA,SACEF,6BAAC,IAAD;AAAM,IAAA,KAAK,EAAE,CAAES,YAAY,CAACM,IAAf,EAAqBX,KAArB;AAAb,KACEJ,6BAAC,SAAD;AACE,IAAA,GAAG,EAAEa;AADP,KAEML,OAFN;AAGE,IAAA,OAAO,EAAE,CAACL,QAHZ;AAIE,IAAA,KAAK,EAAE,CAACM,YAAY,CAACO,MAAd;AAJT,KAKM5B,QAAQ,CAACC,KAAD,CALd,EAMM4B,iBAAiB,CAAC;AAAE1B,IAAAA,QAAQ,EAARA,QAAF;AAAYC,IAAAA,aAAa,EAAbA;AAAZ,GAAD,CANvB,GAQIF,QARJ,CADF,EAWEU,6BAAC,IAAD;AACE,IAAA,MAAM,EAAES,YAAY,CAACS,IADvB;AAEE,IAAA,SAAS,EAAEC,WAFb;AAGE,IAAA,KAAK,EAAEhB,QAAQ,2BAAIM,YAAY,CAACS,IAAjB,gFAAI,mBAAmBf,QAAvB,0DAAI,sBAA6BiB,KAAjC;AAHjB,IAXF,CADF;AAmBD,CA3CqB;;;;"}