{"version":3,"file":"picker.js","sources":["../../../src/components/form/picker/picker.js"],"sourcesContent":["/****************** IMPORTANT ******************/ /*\n * This component is a work in progress\n * It's NOT complete or expected to be working\n * It is NOT exported from the main components export\n * It is NOT included in the keg-components bundle\n/****************** IMPORTANT ******************/\n\nimport React, { Component } from 'react'\nimport {\n  Modal,\n  Text,\n  TouchableHighlight,\n  View,\n  StyleSheet,\n  FlatList,\n} from 'react-native'\nimport PropTypes from 'prop-types'\n\nexport class ModalPicker extends Component {\n  constructor(props) {\n    super(props)\n    this.state = { modalVisible: false }\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    return state.data === props.data ? null : { data: props.data }\n  }\n\n  setModalVisible(visible) {\n    this.setState({ modalVisible: visible })\n  }\n\n  render() {\n    return (\n      <View\n        style={{\n          backgroundColor: 'transparent',\n          flex: 1,\n          position: 'absolute',\n        }}\n      >\n        <Modal\n          animationType='fade'\n          transparent={true}\n          visible={this.state.modalVisible}\n          onRequestClose={() => {\n            this.setModalVisible(false)\n          }}\n        >\n          <TouchableHighlight\n            style={styles.container}\n            onPress={() => this.setModalVisible(false)}\n            underlayColor={'#333333cc'}\n          >\n            <View>\n              <FlatList\n                data={this.state.data}\n                keyExtractor={(_, index) => index.toString()}\n                renderItem={({ item, index }) => {\n                  return (\n                    <TouchableHighlight\n                      underlayColor={'transparent'}\n                      onPress={() => {\n                        this.setModalVisible(false)\n                        this.props.onValueChange(item[this.props.value], index)\n                      }}\n                    >\n                      { this.props.renderRow ? (\n                        this.props.renderRow(item, index)\n                      ) : (\n                        <Text style={styles.itemText}>\n                          { item[this.props.label] }\n                        </Text>\n                      ) }\n                    </TouchableHighlight>\n                  )\n                }}\n              />\n            </View>\n          </TouchableHighlight>\n        </Modal>\n      </View>\n    )\n  }\n}\n\nModalPicker.propTypes = {\n  data: PropTypes.array.isRequired,\n  value: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  onValueChange: PropTypes.func,\n  renderRow: PropTypes.func,\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    backgroundColor: '#333333cc',\n    padding: 16,\n  },\n  itemText: {\n    backgroundColor: '#fff',\n    padding: 16,\n    fontSize: 18,\n    color: '#222',\n    borderTopWidth: 1,\n    borderColor: '#CCC',\n  },\n})\n"],"names":["ModalPicker","props","state","modalVisible","visible","setState","React","backgroundColor","flex","position","setModalVisible","styles","container","data","_","index","toString","item","onValueChange","value","renderRow","itemText","label","Component","StyleSheet","create","justifyContent","padding","fontSize","color","borderTopWidth","borderColor"],"mappings":"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"}