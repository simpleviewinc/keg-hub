{"version":3,"file":"buildColorStyles-56467089.js","sources":["../../../src/theme/colors.js","../../../src/utils/styles/buildColorStyles.js"],"sourcesContent":["import { opacity, shadeHex } from '@keg-hub/re-theme/colors'\nimport {\n  deepMerge,\n  get,\n  isArr,\n  isStr,\n  reduceObj,\n  noOpObj,\n} from '@keg-hub/jsutils'\n\nlet __colors = {}\nexport const clearColorsStyles = () => (__colors = {})\n\nexport const getColorSurface = () => get(__colors, 'surface', {})\n\nexport const colors = (defaults, config = noOpObj) => {\n  const defPalette = get(defaults, 'colors.palette', {})\n  const defTypes = get(defaults, 'colors.types', {})\n\n  __colors = {\n    // Use opacity helper from re-theme\n    opacity: opacity,\n    types: defTypes,\n    // Build out the pallet based on the default colors\n    palette: reduceObj(\n      defPalette,\n      (key, value, updated) => {\n        !isArr(value)\n          ? (updated[key] = value)\n          : value.map((val, i) => {\n            const name = `${key}0${i + 1}`\n            updated[name] = isStr(val) ? val : shadeHex(value[1], value[i])\n          })\n\n        return updated\n      },\n      {}\n    ),\n  }\n\n  // Build out the surface colors based on the built palette\n  __colors.surface = deepMerge(\n    reduceObj(\n      defTypes,\n      (key, value, updated) => {\n        updated[key] = {\n          colors: {\n            light: __colors.palette[`${value.palette}01`],\n            main: __colors.palette[`${value.palette}02`],\n            dark: __colors.palette[`${value.palette}03`],\n          },\n        }\n\n        return updated\n      },\n      {}\n    ),\n    config.colors\n  )\n\n  return __colors\n}\n","import { getColorSurface } from '../../theme/colors'\nimport { get, checkCall } from '@keg-hub/jsutils'\nimport { getThemeDefaults } from '../../theme/themeDefaults'\n\nconst colorStyles = (colorSurface, type, states, cb) => {\n  // Loop the current stated\n  return Object.keys(states).reduce((built, key) => {\n    return {\n      ...built,\n      [key]: checkCall(cb, type, colorSurface[type], key),\n    }\n  }, {})\n}\n\n/**\n * Maps the keys of the defaults.colors.types and applies the function for each one\n * @param {function} cb - Function to build the styles for that color type\n *\n * @returns {Object} - Object with keys and styles values of the color types\n */\nexport const buildColorStyles = (states, cb) => {\n  const defaults = getThemeDefaults()\n  const colorSurface = getColorSurface()\n\n  return Object.keys(get(defaults, 'colors.types', {})).reduce(\n    (built, type) => {\n      const styles = colorStyles(colorSurface, type, states, cb)\n      styles && (built[type] = styles)\n\n      return built\n    },\n    {}\n  )\n}\n\n/**\n * Builds styles for just a surface and does not include the states\n * @param {function} cb - Function to build the styles for that color type\n *\n * @returns {Object} - Object with keys and styles values of the surfaces types\n */\nexport const buildSurfaceStyles = cb => {\n  const colorSurface = getColorSurface()\n  return Object.keys(colorSurface).reduce((surfaceStyles, surface) => {\n    surfaceStyles[surface] = checkCall(cb, surface, colorSurface)\n    return surfaceStyles\n  }, {})\n}\n"],"names":["__colors","clearColorsStyles","getColorSurface","get","colors","defaults","config","noOpObj","defPalette","defTypes","opacity","types","palette","reduceObj","key","value","updated","isArr","map","val","i","name","isStr","shadeHex","surface","deepMerge","light","main","dark","colorStyles","colorSurface","type","states","cb","Object","keys","reduce","built","checkCall","buildColorStyles","getThemeDefaults","styles","buildSurfaceStyles","surfaceStyles"],"mappings":"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"}