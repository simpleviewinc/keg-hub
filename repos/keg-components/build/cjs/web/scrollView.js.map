{"version":3,"file":"scrollView.js","sources":["../../../src/components/list/scrollView.native.js","../../../src/components/list/scrollView.js"],"sourcesContent":["import React, { useCallback, useRef } from 'react'\nimport { ScrollView as RNScrollView } from 'react-native'\nimport { getPlatform } from 'KegGetPlatform'\nimport { updateClassNames } from '../../utils/helpers/updateClassNames'\nimport { ensureClassArray } from '../../utils/helpers/ensureClassArray'\nimport { handleRefUpdate } from '../../utils/helpers/handleRefUpdate'\nimport PropTypes from 'prop-types'\n\nconst isWeb = getPlatform() === 'web'\n\n/**\n * Custom hook to update the ScrollView with passed in classNames\n * <br/>Uses getScrollableNode and getInnerViewNode to get access to the Dom Nodes\n * @param {Array[string]} defClass - Default class to add to the component\n * @param {string|Array[string]} className - Class or an array of classes to add to the element\n * @param {Object|function} ref - Ref object passed to the consuming component\n *\n * @returns {function} - Ref function to be added to the component\n */\nconst useScrollClassNames = (defClass, className, innerClassName, ref) => {\n  className = ensureClassArray(className)\n  const classRef = useRef(className)\n\n  return useCallback(\n    scrollResponder => {\n      if (isWeb && scrollResponder) {\n        updateClassNames(\n          scrollResponder.getScrollableNode(),\n          classRef,\n          defClass,\n          className\n        )\n        updateClassNames(\n          scrollResponder.getInnerViewNode(),\n          classRef,\n          `${defClass}-container`,\n          innerClassName\n        )\n      }\n\n      handleRefUpdate(ref, scrollResponder)\n    },\n    [ defClass, className.join(' '), ref ]\n  )\n}\n\n/**\n * ScrollView\n * @summary Wrapper around React-Native scroll view export\n *\n * @param {Object} props - see View PropTypes\n * @property {String} props.className - Value to set the className to (web platform only)\n * @property {String} props.innerClassName - Value to set the innerClassName to (web platform only)\n *\n */\nexport const ScrollView = React.forwardRef(\n  ({ className, innerClassName, ...props }, ref) => {\n    const classRef = useScrollClassNames(\n      'keg-scrollview',\n      className,\n      innerClassName,\n      ref\n    )\n\n    return <RNScrollView\n      {...props}\n      ref={classRef}\n    />\n  }\n)\n\nScrollView.propTypes = {\n  ...RNScrollView.propTypes,\n  className: PropTypes.oneOfType([ PropTypes.string, PropTypes.array ]),\n  innerClassName: PropTypes.oneOfType([ PropTypes.string, PropTypes.array ]),\n}\n","import { ScrollView as KegScrollView } from './scrollView.native'\nimport { StyleInjector } from '@keg-hub/re-theme/styleInjector'\n\n/**\n * View\n * @summary Default view component that wraps the React Native View component. All props are optional\n *\n * @param {Object} props - see View PropTypes\n * @property {String} props.className - Value to set the className to (web platform only)\n *\n */\nexport const ScrollView = StyleInjector(KegScrollView, {\n  displayName: 'Scroll-View',\n  className: 'keg-scrollview',\n})\n\nScrollView.propTypes = KegScrollView.propTypes\n"],"names":["useScrollClassNames","defClass","className","innerClassName","ref","ensureClassArray","classRef","useRef","useCallback","scrollResponder","updateClassNames","getScrollableNode","getInnerViewNode","handleRefUpdate","join","ScrollView","React","forwardRef","props","RNScrollView","StyleInjector","KegScrollView","displayName","propTypes"],"mappings":";;;;;;;;;;;;;;;;AAmBA,IAAMA,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,QAAD,EAAWC,SAAX,EAAsBC,cAAtB,EAAsCC,GAAtC,EAA8C;AACxEF,EAAAA,SAAS,GAAGG,iCAAgB,CAACH,SAAD,CAA5B;AACA,MAAMI,QAAQ,GAAGC,YAAM,CAACL,SAAD,CAAvB;AAEA,SAAOM,iBAAW,CAChB,UAAAC,eAAe,EAAI;AACjB,SAAaA,eAAb,EAA8B;AAC5BC,MAAAA,iCAAgB,CACdD,eAAe,CAACE,iBAAhB,EADc,EAEdL,QAFc,EAGdL,QAHc,EAIdC,SAJc,CAAhB;AAMAQ,MAAAA,iCAAgB,CACdD,eAAe,CAACG,gBAAhB,EADc,EAEdN,QAFc,YAGXL,QAHW,iBAIdE,cAJc,CAAhB;AAMD;AAEDU,IAAAA,+BAAe,CAACT,GAAD,EAAMK,eAAN,CAAf;AACD,GAlBe,EAmBhB,CAAER,QAAF,EAAYC,SAAS,CAACY,IAAV,CAAe,GAAf,CAAZ,EAAiCV,GAAjC,CAnBgB,CAAlB;AAqBD,CAzBD;AAoCO,IAAMW,UAAU,GAAGC,cAAK,CAACC,UAAN,CACxB,gBAA0Cb,GAA1C,EAAkD;AAAA,MAA/CF,SAA+C,QAA/CA,SAA+C;AAAA,MAApCC,cAAoC,QAApCA,cAAoC;AAAA,MAAjBe,KAAiB;AAChD,MAAMZ,QAAQ,GAAGN,mBAAmB,CAClC,gBADkC,EAElCE,SAFkC,EAGlCC,cAHkC,EAIlCC,GAJkC,CAApC;AAOA,SAAOY,6BAACG,sBAAD,yCACDD,KADC;AAEL,IAAA,GAAG,EAAEZ;AAFA,KAAP;AAID,CAbuB,CAAnB;;IC5CMS,YAAU,GAAGK,2BAAa,CAACC,UAAD,EAAgB;AACrDC,EAAAA,WAAW,EAAE,aADwC;AAErDpB,EAAAA,SAAS,EAAE;AAF0C,CAAhB;AAKvCa,YAAU,CAACQ,SAAX,GAAuBF,UAAa,CAACE,SAArC;;;;"}