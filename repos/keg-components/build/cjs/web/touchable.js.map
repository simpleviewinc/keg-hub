{"version":3,"file":"touchable.js","sources":["../../../src/components/touchable/touchable.native.js","../../../src/components/touchable/touchable.js"],"sourcesContent":["import React, { useCallback, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { Pressable } from 'react-native'\nimport { useClassName } from 'KegClassName'\nimport { checkCall, noOpObj } from '@keg-hub/jsutils'\n\n/**\n * Touchable\n * @summary Custom Touch component. All props are optional\n *\n * @param {Object} props - see touchablePropTypes\n * @property {String} props.className - Value to set the className to (web platform only)\n * @property {Object} props.style - custom style - Set inline with the style prop\n * @property {Function} props.onPress - function to do when button is pressed\n * @property {Object} props.children - Child components of the component\n * @property {Object} props.ref - reference to native element\n * @property {Number=} props.activeOpacity - active opacity value. default 0.4\n * @property {Function=} props.onPress - called after onPressOut\n * @property {Function=} props.onPressIn - called on touch. before OnPress\n * @property {Function=} props.onPressOut - called when touch is released\n * @property {Boolean=} props.showFeedback - enable/disable active style opacity. default true\n */\nexport const Touchable = React.forwardRef((props, ref) => {\n  const {\n    className,\n    showFeedback = true,\n    touchRef,\n    onPress,\n    onPressIn,\n    onPressOut,\n    activeOpacity = 0.4,\n    style = noOpObj,\n    ...attrs\n  } = props\n  const classRef = useClassName('keg-touchable', className, touchRef || ref)\n\n  const [ touchStyles, setTouchStyles ] = useState(style)\n\n  // update the opacity value on a touch in\n  const onTouchIn = useCallback(\n    event => {\n      checkCall(onPressIn, event)\n      showFeedback && setTouchStyles({ ...touchStyles, opacity: activeOpacity })\n    },\n    [ onPressIn, activeOpacity, showFeedback, touchStyles, setTouchStyles ]\n  )\n\n  // reset the styles back to default on touch out\n  const onTouchOut = useCallback(\n    event => {\n      checkCall(onPressOut, event)\n      setTouchStyles(style)\n    },\n    [ onPressOut, style, setTouchStyles ]\n  )\n\n  return (\n    <Pressable\n      accessible={true}\n      {...attrs}\n      style={touchStyles}\n      onPress={onPress}\n      onPressIn={onTouchIn}\n      onPressOut={onTouchOut}\n      ref={classRef}\n    />\n  )\n})\n\nTouchable.propTypes = {\n  ...Pressable.propTypes,\n  children: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.string,\n    PropTypes.array,\n    PropTypes.func,\n  ]),\n  className: PropTypes.oneOfType([ PropTypes.string, PropTypes.array ]),\n  onClick: PropTypes.func,\n  onPress: PropTypes.func,\n  styles: PropTypes.object,\n  showFeedback: PropTypes.bool,\n  activeOpacity: PropTypes.number,\n  onPressIn: PropTypes.func,\n  onPressOut: PropTypes.func,\n}\n","import { Touchable as KegTouchable } from './touchable.native'\nimport { StyleInjector } from '@keg-hub/re-theme/styleInjector'\n\n/**\n * Touchable\n * @summary Touchable component that allows interactions based on touch. All props are optional\n *\n * @param {Object} props - see View PropTypes\n * @property {String} props.className - Value to set the className to (web platform only)\n *\n */\nexport const Touchable = StyleInjector(KegTouchable, {\n  displayName: 'Touchable',\n  className: 'keg-touchable',\n  // Important rules should include the prefixed version\n  // Because important rules are checked after going through the prefixer\n  // Important rules have `!important` added to them to allow overwriting the style attribute\n  important: [ 'transitionDuration', 'WebkitTransitionDuration' ],\n})\n\nTouchable.propTypes = KegTouchable.propTypes\n"],"names":["Touchable","React","forwardRef","props","ref","className","showFeedback","touchRef","onPress","onPressIn","onPressOut","activeOpacity","style","noOpObj","attrs","classRef","useClassName","useState","touchStyles","setTouchStyles","onTouchIn","useCallback","event","checkCall","opacity","onTouchOut","Pressable","StyleInjector","KegTouchable","displayName","important","propTypes"],"mappings":";;;;;;;;;;;;;;;;;;;AAsBO,IAAMA,WAAS,GAAGC,yBAAK,CAACC,UAAN,CAAiB,UAACC,KAAD,EAAQC,GAAR,EAAgB;AACxD,MACEC,SADF,GAUIF,KAVJ,CACEE,SADF;AAAA,4BAUIF,KAVJ,CAEEG,YAFF;AAAA,MAEEA,YAFF,oCAEiB,IAFjB;AAAA,MAGEC,QAHF,GAUIJ,KAVJ,CAGEI,QAHF;AAAA,MAIEC,OAJF,GAUIL,KAVJ,CAIEK,OAJF;AAAA,MAKEC,SALF,GAUIN,KAVJ,CAKEM,SALF;AAAA,MAMEC,UANF,GAUIP,KAVJ,CAMEO,UANF;AAAA,6BAUIP,KAVJ,CAOEQ,aAPF;AAAA,MAOEA,aAPF,qCAOkB,GAPlB;AAAA,qBAUIR,KAVJ,CAQES,KARF;AAAA,MAQEA,KARF,6BAQUC,eARV;AAAA,MASKC,KATL,sDAUIX,KAVJ;AAWA,MAAMY,QAAQ,GAAGC,yBAAY,CAAC,eAAD,EAAkBX,SAAlB,EAA6BE,QAAQ,IAAIH,GAAzC,CAA7B;AAEA,kBAAwCa,cAAQ,CAACL,KAAD,CAAhD;AAAA;AAAA,MAAQM,WAAR;AAAA,MAAqBC,cAArB,iBAdwD;AAiBxD,MAAMC,SAAS,GAAGC,iBAAW,CAC3B,UAAAC,KAAK,EAAI;AACPC,IAAAA,iBAAS,CAACd,SAAD,EAAYa,KAAZ,CAAT;AACAhB,IAAAA,YAAY,IAAIa,cAAc,uFAAMD,WAAN;AAAmBM,MAAAA,OAAO,EAAEb;AAA5B,OAA9B;AACD,GAJ0B,EAK3B,CAAEF,SAAF,EAAaE,aAAb,EAA4BL,YAA5B,EAA0CY,WAA1C,EAAuDC,cAAvD,CAL2B,CAA7B,CAjBwD;AA0BxD,MAAMM,UAAU,GAAGJ,iBAAW,CAC5B,UAAAC,KAAK,EAAI;AACPC,IAAAA,iBAAS,CAACb,UAAD,EAAaY,KAAb,CAAT;AACAH,IAAAA,cAAc,CAACP,KAAD,CAAd;AACD,GAJ2B,EAK5B,CAAEF,UAAF,EAAcE,KAAd,EAAqBO,cAArB,CAL4B,CAA9B;AAQA,SACElB,wCAACyB,wBAAD;AACE,IAAA,UAAU,EAAE;AADd,KAEMZ,KAFN;AAGE,IAAA,KAAK,EAAEI,WAHT;AAIE,IAAA,OAAO,EAAEV,OAJX;AAKE,IAAA,SAAS,EAAEY,SALb;AAME,IAAA,UAAU,EAAEK,UANd;AAOE,IAAA,GAAG,EAAEV;AAPP,KADF;AAWD,CA7CwB,CAAlB;;ICXMf,SAAS,GAAG2B,2BAAa,CAACC,WAAD,EAAe;AACnDC,EAAAA,WAAW,EAAE,WADsC;AAEnDxB,EAAAA,SAAS,EAAE,eAFwC;AAMnDyB,EAAAA,SAAS,EAAE,CAAE,oBAAF,EAAwB,0BAAxB;AANwC,CAAf;AAStC9B,SAAS,CAAC+B,SAAV,GAAsBH,WAAY,CAACG,SAAnC;;;;"}