{"version":3,"file":"input.js","sources":["../../../src/components/form/input/input.js"],"sourcesContent":["import React from 'react'\nimport { getValueFromChildren, getReadOnly } from '../../../utils'\nimport {\n  useThemePath,\n  useInputHandlers,\n  usePressHandlers,\n} from '../../../hooks'\nimport PropTypes from 'prop-types'\nimport { Input as InternalInput } from '../../internal/input.js'\nimport { StyleInjector } from '@keg-hub/re-theme/styleInjector'\n\n/**\n * Wrap the internal component with the Styles Injector Hoc\n * <br/>This allows us to add the styles as css classes\n */\nconst KegInput = StyleInjector(InternalInput, {\n  displayName: 'Input',\n  className: 'keg-input',\n})\n\n/**\n * Gets the key value pair for the select components value\n * @param {*} props - Props passed to the component\n * @param {*} isWeb - Is the platform equal to web\n *\n * @returns {Object} - key / value pair for the select component\n */\nconst getValue = ({ children, value }) => {\n  const setValue = getValueFromChildren(value, children)\n\n  return value !== undefined ? { value: setValue } : {} // return empty object, otherwise we would not be able to type into input since it would be waiting on value prop to change\n}\n\n/**\n * Input\n * @summary Default Input component that wraps the Internal Input component with the styles injector. All props are optional\n *\n * @param {Object} props - see KegInput PropTypes\n * @property {String} props.className - Value to set the className to (web platform only)\n *\n */\nexport const Input = React.forwardRef((props, ref) => {\n  const {\n    className,\n    children,\n    disabled = false,\n    editable = true,\n    Element,\n    onChange,\n    onValueChange,\n    onChangeText,\n    onClick,\n    onPress,\n    readOnly = false,\n    type = 'default',\n    themePath = `form.input.${type}`,\n    style,\n    value,\n    ...elProps\n  } = props\n\n  const inputStyles = useThemePath(themePath)\n\n  return (\n    <KegInput\n      accessibilityRole='textbox'\n      onPress={onPress}\n      {...getReadOnly(false, readOnly, disabled, editable)}\n      {...getValue(props, false)}\n      {...useInputHandlers({ onChange, onValueChange, onChangeText })}\n      {...usePressHandlers(false, { onClick, onPress })}\n      {...elProps}\n      style={[ inputStyles, style ]}\n      ref={ref}\n    />\n  )\n})\n\nInput.propTypes = {\n  ...KegInput.propTypes,\n  children: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.string,\n    PropTypes.array,\n  ]),\n  onClick: PropTypes.func,\n  onPress: PropTypes.func,\n  onChange: PropTypes.func,\n  onValueChange: PropTypes.func,\n  onChangeText: PropTypes.func,\n  placeholder: PropTypes.string,\n  style: PropTypes.object,\n  type: PropTypes.string,\n  value: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]),\n}\n"],"names":["KegInput","StyleInjector","InternalInput","displayName","className","getValue","children","value","setValue","getValueFromChildren","undefined","Input","React","forwardRef","props","ref","disabled","editable","Element","onChange","onValueChange","onChangeText","onClick","onPress","readOnly","type","themePath","style","elProps","inputStyles","useThemePath","getReadOnly","useInputHandlers","usePressHandlers"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAeA,IAAMA,QAAQ,GAAGC,2BAAa,CAACC,WAAD,EAAgB;AAC5CC,EAAAA,WAAW,EAAE,OAD+B;AAE5CC,EAAAA,SAAS,EAAE;AAFiC,CAAhB,CAA9B;AAYA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,OAAyB;AAAA,MAAtBC,QAAsB,QAAtBA,QAAsB;AAAA,MAAZC,KAAY,QAAZA,KAAY;AACxC,MAAMC,QAAQ,GAAGC,kCAAoB,CAACF,KAAD,EAAQD,QAAR,CAArC;AAEA,SAAOC,KAAK,KAAKG,SAAV,GAAsB;AAAEH,IAAAA,KAAK,EAAEC;AAAT,GAAtB,GAA4C,EAAnD,CAHwC;AAIzC,CAJD;IAcaG,KAAK,GAAGC,cAAK,CAACC,UAAN,CAAiB,UAACC,KAAD,EAAQC,GAAR,EAAgB;AAAA,MAElDX,SAFkD,GAkBhDU,KAlBgD,CAElDV,SAFkD;AAAA,MAGlDE,QAHkD,GAkBhDQ,KAlBgD,CAGlDR,QAHkD;AAAA,wBAkBhDQ,KAlBgD,CAIlDE,QAJkD;AAAA,MAIlDA,QAJkD,gCAIvC,KAJuC;AAAA,wBAkBhDF,KAlBgD,CAKlDG,QALkD;AAAA,MAKlDA,QALkD,gCAKvC,IALuC;AAAA,MAMlDC,OANkD,GAkBhDJ,KAlBgD,CAMlDI,OANkD;AAAA,MAOlDC,QAPkD,GAkBhDL,KAlBgD,CAOlDK,QAPkD;AAAA,MAQlDC,aARkD,GAkBhDN,KAlBgD,CAQlDM,aARkD;AAAA,MASlDC,YATkD,GAkBhDP,KAlBgD,CASlDO,YATkD;AAAA,MAUlDC,OAVkD,GAkBhDR,KAlBgD,CAUlDQ,OAVkD;AAAA,MAWlDC,OAXkD,GAkBhDT,KAlBgD,CAWlDS,OAXkD;AAAA,wBAkBhDT,KAlBgD,CAYlDU,QAZkD;AAAA,MAYlDA,QAZkD,gCAYvC,KAZuC;AAAA,oBAkBhDV,KAlBgD,CAalDW,IAbkD;AAAA,MAalDA,IAbkD,4BAa3C,SAb2C;AAAA,yBAkBhDX,KAlBgD,CAclDY,SAdkD;AAAA,MAclDA,SAdkD,sDAcxBD,IAdwB;AAAA,MAelDE,KAfkD,GAkBhDb,KAlBgD,CAelDa,KAfkD;AAAA,MAgBlDpB,KAhBkD,GAkBhDO,KAlBgD,CAgBlDP,KAhBkD;AAAA,MAiB/CqB,OAjB+C,sDAkBhDd,KAlBgD;AAoBpD,MAAMe,WAAW,GAAGC,yBAAY,CAACJ,SAAD,CAAhC;AAEA,SACEd,6BAAC,QAAD;AACE,IAAA,iBAAiB,EAAC,SADpB;AAEE,IAAA,OAAO,EAAEW;AAFX,KAGMQ,uBAAW,CAAC,KAAD,EAAQP,QAAR,EAAkBR,QAAlB,EAA4BC,QAA5B,CAHjB,EAIMZ,QAAQ,CAACS,KAAD,CAJd,EAKMkB,iCAAgB,CAAC;AAAEb,IAAAA,QAAQ,EAARA,QAAF;AAAYC,IAAAA,aAAa,EAAbA,aAAZ;AAA2BC,IAAAA,YAAY,EAAZA;AAA3B,GAAD,CALtB,EAMMY,iCAAgB,CAAC,KAAD,EAAQ;AAAEX,IAAAA,OAAO,EAAPA,OAAF;AAAWC,IAAAA,OAAO,EAAPA;AAAX,GAAR,CANtB,EAOMK,OAPN;AAQE,IAAA,KAAK,EAAE,CAAEC,WAAF,EAAeF,KAAf,CART;AASE,IAAA,GAAG,EAAEZ;AATP,KADF;AAaD,CAnCoB;;;;"}