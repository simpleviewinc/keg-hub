name: keg-tests
on: push

jobs:
  tests:
    name: 'Run Tests'
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2
        with:
          fetch-depth: 0
      - name: "Run Tests"
        shell: bash
        run: |
          echo "::debug::{Running keg-tests check...}"
          git fetch origin develop --depth=1
          KEG_DIR="${PWD##*/}"
          CHANGE_FILES=($(git diff-tree --no-commit-id --name-only -r $(git log -1 --pretty=%h) $(git log -n 1 develop --pretty=%h)))
          echo "::debug::{Found changed files $CHANGE_FILES}"
          for FILE in "${CHANGE_FILES[@]}"; do
              echo "::debug::{Found changed file $FILE}"
          done






